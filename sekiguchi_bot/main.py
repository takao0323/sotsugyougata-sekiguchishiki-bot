#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
é–¢å£è²´å¤«ç›£ä¿® é–¢å£å¼ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¡ãƒ³ã‚¿ãƒ¼
ä¸–ç•Œä¸€ã®å®Ÿç¸¾ã¨ã€åœ§å€’çš„ãªæˆåŠŸå®Ÿä¾‹ã‚’æŒã¤é–¢å£å¼ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¡ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Œå…¨å†ç¾
"""

import random
import os
from food_analyzer import analyze_food_image, get_image_path_from_user
import matplotlib.pyplot as plt
import matplotlib
# æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆè¨­å®š
matplotlib.rcParams['font.family'] = 'DejaVu Sans'


def print_header():
    """ãƒ—ãƒ­ã‚°ãƒ©ãƒ èµ·å‹•æ™‚ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¡¨ç¤º"""
    print("=" * 60)
    print("ğŸ’ª é–¢å£è²´å¤«ç›£ä¿® é–¢å£å¼ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¡ãƒ³ã‚¿ãƒ¼ ğŸ’ª")
    print("=" * 60)
    print("ä¸–ç•Œä¸€ã®å®Ÿç¸¾ã¨ã€åœ§å€’çš„ãªæˆåŠŸå®Ÿä¾‹ã‚’æŒã¤")
    print("é–¢å£å¼ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¡ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Œå…¨å†ç¾")
    print("=" * 60)
    print()
    print("âœ¨ ç§‘å­¦çš„æ ¹æ‹ Ã—æŒ‡å°æ­´30å¹´ã®çµŒé¨“ âœ¨")
    print()
    print("ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã®ç¾å ´ã§ã¯ã€Œç†è«–ã¯ã“ã†ã ã‘ã©ã€ç¾å®Ÿã¯é•ã†ã‚ˆã­ã€")
    print("ã¨ã„ã†ã“ã¨ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚")
    print("ãã‚“ãªç¾å ´ã®ãƒã‚¦ãƒã‚¦ã‚’å…¨ã¦è©°ã‚è¾¼ã¿ã¾ã—ãŸã€‚")
    print()
    print("-" * 60)
    print("ã€é–¢å£è²´å¤« çµŒæ­´ã€‘")
    print("-" * 60)
    print("â€¢ æŒ‡å°æ­´30å¹´")
    print("â€¢ å¥åº·ä½“åŠ›ã¥ãã‚Šäº‹æ¥­è²¡å›£èªå®šãƒ»å¥åº·é‹å‹•æŒ‡å°å£«")
    print("â€¢ IFBBã‚¢ãƒ¼ãƒãƒ«ãƒ‰ã‚¯ãƒ©ã‚·ãƒƒã‚¯ä¸–ç•Œå¤§ä¼šå„ªå‹")
    print("â€¢ æ–‡éƒ¨ç§‘å­¦å¤§è‡£è¡¨å½°")
    print("â€¢ JBBFã‚ªãƒ¼ãƒ«ã‚¸ãƒ£ãƒ‘ãƒ³å„ªå‹Ã—2å›")
    print("â€¢ ã‚¸ãƒ£ãƒ‘ãƒ³ã‚«ãƒƒãƒ—å„ªå‹")
    print("â€¢ JBBFé–¢æ±ã‚ªãƒ¼ãƒãƒ¼ã‚ªãƒ¼ãƒ«å„ªå‹ä»–å¤šæ•°")
    print("-" * 60)
    print()


def get_meal_examples():
    """
    ã‚³ãƒ³ãƒ“ãƒ‹é£¯ã¨è‡ªç‚Šã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¾‹ã‚’è¿”ã™

    Returns:
        dict: ã‚«ãƒ­ãƒªãƒ¼å¸¯åˆ¥ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¾‹
    """
    return {
        "convenience": [
            {
                "name": "ã‚µãƒ©ãƒ€ãƒã‚­ãƒ³ï¼‹ãŠã«ãã‚Šï¼ˆæ¢…ï¼‰ï¼‹é‡èœã‚µãƒ©ãƒ€",
                "calories": 420,
                "protein": 32,
                "fat": 6,
                "carbs": 58,
                "description": "å®šç•ªã®é«˜ã‚¿ãƒ³ãƒ‘ã‚¯ãƒ»ä½è„‚è³ªãƒ¡ãƒ‹ãƒ¥ãƒ¼"
            },
            {
                "name": "ã‚†ã§åµÃ—2ï¼‹ç„¼ãé­šãŠã«ãã‚Šï¼‹é‡èœã‚¹ãƒ†ã‚£ãƒƒã‚¯",
                "calories": 380,
                "protein": 28,
                "fat": 12,
                "carbs": 42,
                "description": "ã‚¿ãƒ³ãƒ‘ã‚¯è³ªè±Šå¯Œã§è…¹æŒã¡ãŒè‰¯ã„"
            },
            {
                "name": "ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³ãƒãƒ¼ï¼‹ãƒãƒŠãƒŠï¼‹ã‚®ãƒªã‚·ãƒ£ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆ",
                "calories": 350,
                "protein": 25,
                "fat": 8,
                "carbs": 45,
                "description": "é–“é£Ÿã‚„æœé£Ÿã«ãŠã™ã™ã‚"
            },
            {
                "name": "é¯–ã®å¡©ç„¼ãï¼‹ã‚‚ã¡éº¦ãŠã«ãã‚Šï¼‹æ¸©é‡èœ",
                "calories": 480,
                "protein": 35,
                "fat": 15,
                "carbs": 50,
                "description": "ã‚ªãƒ¡ã‚¬3ã‚‚æ‘‚ã‚Œã‚‹æ „é¤Šæº€ç‚¹ãƒ¡ãƒ‹ãƒ¥ãƒ¼"
            },
            {
                "name": "è±†è…ãƒãƒ¼ï¼‹é®­ãŠã«ãã‚Šï¼‹ã‚«ãƒƒãƒˆãƒ•ãƒ«ãƒ¼ãƒ„",
                "calories": 400,
                "protein": 28,
                "fat": 10,
                "carbs": 52,
                "description": "æ¤ç‰©æ€§ãƒ»å‹•ç‰©æ€§ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã®ãƒãƒ©ãƒ³ã‚¹â—"
            },
            {
                "name": "ãƒã‚­ãƒ³ï¼‹ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼å¼å½“ï¼‹ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³",
                "calories": 550,
                "protein": 48,
                "fat": 12,
                "carbs": 60,
                "description": "ç­‹ãƒˆãƒ¬å¾Œã«æœ€é©ãªé«˜ã‚¿ãƒ³ãƒ‘ã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼"
            },
            {
                "name": "ç„¼ãé³¥ï¼ˆå¡©ï¼‰Ã—5æœ¬ï¼‹ãŠã«ãã‚Šï¼‹æµ·è—»ã‚µãƒ©ãƒ€",
                "calories": 520,
                "protein": 42,
                "fat": 14,
                "carbs": 55,
                "description": "ä½è„‚è³ªã§æº€è¶³æ„Ÿã®ã‚ã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼"
            },
            {
                "name": "ãƒ„ãƒŠã‚µãƒ©ãƒ€ï¼‹ç„ç±³ãŠã«ãã‚Šï¼‹ã‚†ã§åµ",
                "calories": 450,
                "protein": 35,
                "fat": 10,
                "carbs": 50,
                "description": "ã‚ªãƒ•ã‚£ã‚¹ãƒ©ãƒ³ãƒã«æœ€é©"
            },
            {
                "name": "ã‚µãƒç¼¶ï¼‹ã‚‚ã¡éº¦ã”é£¯ï¼‹ã‚­ãƒ£ãƒ™ãƒ„ã®åƒåˆ‡ã‚Š",
                "calories": 490,
                "protein": 38,
                "fat": 16,
                "carbs": 48,
                "description": "ã‚³ã‚¹ãƒ‘â—ã§æ „é¤Šä¾¡ã‚‚é«˜ã„"
            },
            {
                "name": "è’¸ã—é¶ï¼‹äº”ç©€ç±³ãŠã«ãã‚Šï¼‹ãã®ã“ã‚¹ãƒ¼ãƒ—",
                "calories": 410,
                "protein": 32,
                "fat": 8,
                "carbs": 52,
                "description": "ä½ã‚«ãƒ­ãƒªãƒ¼ã§æ „é¤Šãƒãƒ©ãƒ³ã‚¹â—"
            }
        ],
        "homemade": [
            {
                "name": "é¶èƒ¸è‚‰ã®ã‚°ãƒªãƒ«200gï¼‹ç„ç±³150gï¼‹ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼",
                "calories": 520,
                "protein": 48,
                "fat": 10,
                "carbs": 58,
                "description": "ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã®ç‹é“ãƒ¡ãƒ‹ãƒ¥ãƒ¼"
            },
            {
                "name": "é®­ã®ãƒ ãƒ‹ã‚¨ãƒ«ï¼‹ã•ã¤ã¾ã„ã‚‚ï¼‹ã»ã†ã‚Œã‚“è‰ã®ãŠæµ¸ã—",
                "calories": 480,
                "protein": 38,
                "fat": 14,
                "carbs": 52,
                "description": "ã‚ªãƒ¡ã‚¬3ã¨é£Ÿç‰©ç¹Šç¶­ãŒè±Šå¯Œ"
            },
            {
                "name": "è±šãƒ’ãƒ¬è‚‰ã®ç”Ÿå§œç„¼ãï¼‹é›‘ç©€ç±³ï¼‹é‡èœãŸã£ã·ã‚Šå‘³å™Œæ±",
                "calories": 510,
                "protein": 42,
                "fat": 12,
                "carbs": 55,
                "description": "ãƒ“ã‚¿ãƒŸãƒ³Bç¾¤ãŒè±Šå¯Œã§ç–²åŠ´å›å¾©ã«â—"
            },
            {
                "name": "è±†è…ãƒãƒ³ãƒãƒ¼ã‚°ï¼‹ç„ç±³ï¼‹é‡èœã‚µãƒ©ãƒ€",
                "calories": 450,
                "protein": 35,
                "fat": 10,
                "carbs": 50,
                "description": "æ¤ç‰©æ€§ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã§ãƒ˜ãƒ«ã‚·ãƒ¼"
            },
            {
                "name": "ç™½èº«é­šã®è’¸ã—ç‰©ï¼‹ã‚‚ã¡éº¦ã”é£¯ï¼‹ã‚ã‹ã‚ã‚¹ãƒ¼ãƒ—",
                "calories": 420,
                "protein": 40,
                "fat": 6,
                "carbs": 52,
                "description": "è¶…ä½è„‚è³ªã§æ¶ˆåŒ–ã«ã‚‚å„ªã—ã„"
            },
            {
                "name": "ç‰›ã‚‚ã‚‚è‚‰ã®ã‚¹ãƒ†ãƒ¼ã‚­150gï¼‹ç„ç±³ï¼‹æ¸©é‡èœ",
                "calories": 540,
                "protein": 45,
                "fat": 15,
                "carbs": 50,
                "description": "é‰„åˆ†ãƒ»äºœé‰›ã‚‚æ‘‚ã‚Œã‚‹"
            },
            {
                "name": "é¶ã‚€ã­è‚‰ã®è¦ªå­ä¸¼é¢¨ï¼‹ã‚‚ãšãé…¢ï¼‹é‡èœã‚¹ãƒ¼ãƒ—",
                "calories": 490,
                "protein": 42,
                "fat": 10,
                "carbs": 58,
                "description": "åµã§ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã‚’ã•ã‚‰ã«å¼·åŒ–"
            },
            {
                "name": "ã‚µãƒã®å‘³å™Œç…®ï¼‹äº”ç©€ç±³ï¼‹å°æ¾èœã®ãŠæµ¸ã—",
                "calories": 500,
                "protein": 38,
                "fat": 16,
                "carbs": 48,
                "description": "DHAãƒ»EPAã§è„³ã«ã‚‚è‰¯ã„"
            },
            {
                "name": "é¶ã•ã•ã¿ã®æ£’ã€…é¶ï¼‹ç„ç±³ï¼‹ã‚­ãƒã‚³ã®ã‚¹ãƒ¼ãƒ—",
                "calories": 440,
                "protein": 45,
                "fat": 8,
                "carbs": 50,
                "description": "è¶…é«˜ã‚¿ãƒ³ãƒ‘ã‚¯ãƒ»è¶…ä½è„‚è³ª"
            },
            {
                "name": "ã‚¤ã‚«ã¨é‡èœã®ç‚’ã‚ç‰©ï¼‹ã‚‚ã¡éº¦ã”é£¯ï¼‹è±†è…ã®å‘³å™Œæ±",
                "calories": 460,
                "protein": 35,
                "fat": 10,
                "carbs": 55,
                "description": "ä½ã‚«ãƒ­ãƒªãƒ¼ã§ãƒœãƒªãƒ¥ãƒ¼ãƒ æº€ç‚¹"
            }
        ]
    }


def suggest_meal_examples(target_calories, target_protein, target_fat, target_carbs, name):
    """
    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼ãƒ»PFCã«åˆã‚ã›ãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¾‹ã‚’ææ¡ˆ

    Args:
        target_calories (float): ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼
        target_protein (float): ç›®æ¨™ã‚¿ãƒ³ãƒ‘ã‚¯è³ª
        target_fat (float): ç›®æ¨™è„‚è³ª
        target_carbs (float): ç›®æ¨™ç‚­æ°´åŒ–ç‰©
        name (str): ãƒ¦ãƒ¼ã‚¶ãƒ¼å
    """
    meals = get_meal_examples()

    # ã‚«ãƒ­ãƒªãƒ¼ç¯„å›²ï¼ˆÂ±100kcalï¼‰ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    suitable_convenience = [
        meal for meal in meals["convenience"]
        if abs(meal["calories"] - target_calories) <= 150
    ]
    suitable_homemade = [
        meal for meal in meals["homemade"]
        if abs(meal["calories"] - target_calories) <= 150
    ]

    # ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°çµæœãŒå°‘ãªã„å ´åˆã¯å…¨ã¦è¡¨ç¤º
    if len(suitable_convenience) < 3:
        suitable_convenience = meals["convenience"][:5]
    if len(suitable_homemade) < 3:
        suitable_homemade = meals["homemade"][:5]

    print("\n" + "=" * 60)
    print("ğŸ± é–¢å£ã‹ã‚‰ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ææ¡ˆ")
    print("=" * 60)
    print(f"\n{name}ã•ã‚“ã€ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼{target_calories:.0f}kcalã«åˆã‚ã›ãŸ")
    print("å…·ä½“çš„ãªãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¾‹ã‚’ã”ç´¹ä»‹ã—ã¾ã™ï¼\n")
    print("ã“ã‚Œã‚‰ã‚’å‚è€ƒã«ã€ç„¡ç†ãªãç¶šã‘ã¦ã„ãã¾ã—ã‚‡ã†ğŸ’ª\n")

    # ã‚³ãƒ³ãƒ“ãƒ‹é£¯
    print("ã€ğŸª ã‚³ãƒ³ãƒ“ãƒ‹ã§æƒãˆã‚‰ã‚Œã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‘")
    print("-" * 60)
    for i, meal in enumerate(suitable_convenience[:5], 1):
        print(f"\n{i}. {meal['name']}")
        print(f"   ğŸ“Š {meal['calories']}kcal | P{meal['protein']}g F{meal['fat']}g C{meal['carbs']}g")
        print(f"   ğŸ’¡ {meal['description']}")

    print("\n")

    # è‡ªç‚Š
    print("ã€ğŸ³ è‡ªç‚Šã§ä½œã‚Œã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‘")
    print("-" * 60)
    for i, meal in enumerate(suitable_homemade[:5], 1):
        print(f"\n{i}. {meal['name']}")
        print(f"   ğŸ“Š {meal['calories']}kcal | P{meal['protein']}g F{meal['fat']}g C{meal['carbs']}g")
        print(f"   ğŸ’¡ {meal['description']}")

    print("\n" + "=" * 60)
    print("ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆ")
    print("=" * 60)
    print(f"â€¢ 1æ—¥ã®ç›®æ¨™: {target_calories:.0f}kcal")
    print(f"â€¢ PFCç›®æ¨™: P{target_protein:.0f}g / F{target_fat:.0f}g / C{target_carbs:.0f}g")
    print("â€¢ 3é£Ÿã«åˆ†ã‘ã¦ã€ãƒãƒ©ãƒ³ã‚¹ã‚ˆãé£Ÿã¹ã¾ã—ã‚‡ã†")
    print("â€¢ å®Œç’§ã‚’ç›®æŒ‡ã•ãªãã¦å¤§ä¸ˆå¤«ï¼Â±10%ã®ç¯„å›²ãªã‚‰OKã§ã™")
    print("=" * 60)
    print()


def detect_dropout_risk(profile, weight_history, daily_records, day_count):
    """
    æŒ«æŠ˜ãƒªã‚¹ã‚¯ã‚’æ¤œçŸ¥ã™ã‚‹

    Args:
        profile (dict): ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±
        weight_history (list): ä½“é‡å±¥æ­´
        daily_records (list): æ—¥ã€…ã®è¨˜éŒ²
        day_count (int): ç¾åœ¨ã®æ—¥æ•°

    Returns:
        dict: ãƒªã‚¹ã‚¯æƒ…å ± {
            "risk_level": "low" | "medium" | "high",
            "reasons": [ç†ç”±ã®ãƒªã‚¹ãƒˆ],
            "suggestions": [ææ¡ˆã®ãƒªã‚¹ãƒˆ]
        }
    """
    risk_level = "low"
    reasons = []
    suggestions = []

    # 1. ã‚«ãƒ­ãƒªãƒ¼è¶…éã®é€£ç¶šã‚’æ¤œçŸ¥ï¼ˆç›´è¿‘3æ—¥ï¼‰
    if len(daily_records) >= 3:
        recent_records = daily_records[-3:]
        over_count = sum(1 for r in recent_records if r.get("calories", 0) > profile["target_calories"])

        if over_count == 3:
            risk_level = "high"
            reasons.append("3æ—¥é€£ç¶šã§ã‚«ãƒ­ãƒªãƒ¼è¶…éãŒç¶šã„ã¦ã„ã¾ã™")
            suggestions.append("å®Œç’§ã‚’ç›®æŒ‡ã•ãªãã¦å¤§ä¸ˆå¤«ï¼ã¾ãšã¯ç›®æ¨™ã®Â±10%ä»¥å†…ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†")
            suggestions.append("ä»Šæ—¥ã¯ã€Œä½“é‡ã‚’æ¸¬ã‚‹ã€ã€Œè¨˜éŒ²ã™ã‚‹ã€ã ã‘ã§ã‚‚OKã§ã™")
        elif over_count == 2:
            risk_level = "medium"
            reasons.append("ã‚«ãƒ­ãƒªãƒ¼è¶…éãŒç¶šã„ã¦ã„ã¾ã™")
            suggestions.append("ç„¡ç†ã«æ¸›ã‚‰ã•ãªãã¦å¤§ä¸ˆå¤«ã€‚ã¾ãšã¯ç¾çŠ¶ç¶­æŒã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†")

    # 2. åœæ»æœŸã®é•·æœŸåŒ–ã‚’æ¤œçŸ¥ï¼ˆç›´è¿‘7æ—¥ï¼‰
    if len(weight_history) >= 8:  # æœ€ä½8æ—¥å¿…è¦ï¼ˆåˆæ—¥å«ã‚€ï¼‰
        recent_weights = weight_history[-8:]
        initial = recent_weights[0]
        final = recent_weights[-1]
        weight_change = initial - final

        # 7æ—¥é–“ã§0.3kgæœªæº€ã®å¤‰åŒ– = åœæ»æœŸ
        if abs(weight_change) < 0.3:
            if risk_level == "low":
                risk_level = "medium"
            reasons.append("ä½“é‡ãŒ1é€±é–“ä»¥ä¸Šåœæ»ã—ã¦ã„ã¾ã™")
            suggestions.append("åœæ»æœŸã¯æˆé•·ã®ã‚µã‚¤ãƒ³ã§ã™ã€‚ç„¦ã‚‰ãšç¶™ç¶šã—ã¾ã—ã‚‡ã†")
            suggestions.append("æ°´åˆ†æ‘‚å–ã€ç¡çœ ã€ã‚¹ãƒˆãƒ¬ã‚¹ç®¡ç†ã‚’è¦‹ç›´ã—ã¦ã¿ã¾ã—ã‚‡ã†")

        # 7æ—¥é–“ã§å¢—åŠ å‚¾å‘ = è¦æ³¨æ„
        elif weight_change < -0.5:
            risk_level = "high"
            reasons.append("ä½“é‡ãŒå¢—åŠ å‚¾å‘ã«ã‚ã‚Šã¾ã™")
            suggestions.append("ä¸€æ™‚çš„ãªå¢—åŠ ã¯èª°ã«ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚è«¦ã‚ãªã„ã§ãã ã•ã„")
            suggestions.append("åŸºæœ¬ã«ç«‹ã¡è¿”ã‚Šã¾ã—ã‚‡ã†ï¼šã‚«ãƒ­ãƒªãƒ¼ãƒ»PFCãƒ»é‹å‹•ãƒ»ç¡çœ ")

    # 3. PFCãƒãƒ©ãƒ³ã‚¹ã®ä¹±ã‚Œã‚’æ¤œçŸ¥ï¼ˆç›´è¿‘3æ—¥ï¼‰
    if len(daily_records) >= 3:
        recent_records = daily_records[-3:]
        pfc_issues = 0

        for record in recent_records:
            protein = record.get("protein", 0)
            if protein and protein < profile["target_protein"] * 0.7:  # ã‚¿ãƒ³ãƒ‘ã‚¯è³ª70%æœªæº€
                pfc_issues += 1

        if pfc_issues >= 2:
            if risk_level == "low":
                risk_level = "medium"
            reasons.append("ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã®æ‘‚å–é‡ãŒä¸è¶³ã—ã¦ã„ã¾ã™")
            suggestions.append("ç­‹è‚‰ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã€ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã‚’ã—ã£ã‹ã‚Šæ‘‚ã‚Šã¾ã—ã‚‡ã†")
            suggestions.append("ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³ã€ã‚µãƒ©ãƒ€ãƒã‚­ãƒ³ã€åµãªã©æ‰‹è»½ãªã‚‚ã®ã§OKã§ã™")

    # 4. è¨˜éŒ²ã®ç¶™ç¶šæ€§ãƒã‚§ãƒƒã‚¯ï¼ˆday_countã¨è¨˜éŒ²æ•°ã®æ¯”è¼ƒï¼‰
    if len(daily_records) < day_count - 1:  # è¨˜éŒ²ãŒæŠœã‘ã¦ã„ã‚‹
        missing_days = day_count - 1 - len(daily_records)
        if missing_days >= 2:
            risk_level = "high"
            reasons.append(f"è¨˜éŒ²ãŒ{missing_days}æ—¥åˆ†æŠœã‘ã¦ã„ã¾ã™")
            suggestions.append("å®Œç’§ã˜ã‚ƒãªãã¦å¤§ä¸ˆå¤«ï¼ä½“é‡ã ã‘ã§ã‚‚è¨˜éŒ²ã—ã¾ã—ã‚‡ã†")
            suggestions.append("ç¶™ç¶šã™ã‚‹ã“ã¨ãŒä¸€ç•ªå¤§åˆ‡ã§ã™")

    return {
        "risk_level": risk_level,
        "reasons": reasons,
        "suggestions": suggestions
    }


def provide_special_support(risk_info, profile):
    """
    æŒ«æŠ˜ãƒªã‚¹ã‚¯ã«å¿œã˜ãŸç‰¹åˆ¥ã‚µãƒãƒ¼ãƒˆã‚’æä¾›

    Args:
        risk_info (dict): ãƒªã‚¹ã‚¯æƒ…å ±
        profile (dict): ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±
    """
    if risk_info["risk_level"] == "low":
        return  # ãƒªã‚¹ã‚¯ä½ã„å ´åˆã¯ä½•ã‚‚ã—ãªã„

    print("\n" + "âš ï¸" * 30)
    print()

    if risk_info["risk_level"] == "high":
        print("ã€ğŸš¨ é–¢å£ã‹ã‚‰ã®ç·Šæ€¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ğŸš¨ã€‘")
    else:
        print("ã€ğŸ’¡ é–¢å£ã‹ã‚‰ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ ğŸ’¡ã€‘")

    print("=" * 60)
    print(f"\n{profile['name']}ã•ã‚“ã€")
    print()

    # ç†ç”±ã‚’è¡¨ç¤º
    for reason in risk_info["reasons"]:
        print(f"  â— {reason}")

    print()
    print("ã§ã‚‚ã€å¤§ä¸ˆå¤«ã§ã™ã€‚")
    print("ã“ã†ã„ã†æ™‚æœŸã¯èª°ã«ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚")
    print()
    print("ã€ğŸŒŸ ä»Šã™ãã§ãã‚‹ã“ã¨ã€‘")
    print("-" * 60)

    # ææ¡ˆã‚’è¡¨ç¤º
    for i, suggestion in enumerate(risk_info["suggestions"], 1):
        print(f"\n{i}. {suggestion}")

    print()
    print("-" * 60)
    print()

    if risk_info["risk_level"] == "high":
        print("ğŸ’ª ãƒãƒ¼ãƒ‰ãƒ«ã‚’ä¸‹ã’ã¾ã—ã‚‡ã†ï¼")
        print()
        print("   âœ… ä»Šæ—¥ã¯ã€Œä½“é‡ã‚’æ¸¬ã‚‹ã€ã ã‘ã§OK")
        print("   âœ… ã‚«ãƒ­ãƒªãƒ¼è¨ˆç®—ã¯æ˜æ—¥ã‹ã‚‰")
        print("   âœ… ã¨ã«ã‹ãã€Œç¶šã‘ã‚‹ã€ã“ã¨ãŒæœ€å„ªå…ˆ")
        print()
        print("   ğŸ‘‰ ç¶šã‘ã‚‹ã“ã¨ãŒã§ãã‚Œã°ã€ãã‚Œã ã‘ã§100ç‚¹ã§ã™ï¼")
    else:
        print("ğŸ’ª å°ã•ãªä¸€æ­©ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ï¼")
        print()
        print("   ã§ãã‚‹ã“ã¨ã‹ã‚‰ã€ä¸€ã¤ãšã¤ã€‚")
        print("   ã‚ãªãŸãªã‚‰å¤§ä¸ˆå¤«ã§ã™ã€‚")

    print()
    print("=" * 60)
    print("ç¶™ç¶šã¯åŠ›ãªã‚Šã€‚")
    print("ä¸€ç·’ã«ä¹—ã‚Šè¶Šãˆã¾ã—ã‚‡ã†ï¼")
    print("=" * 60)
    print()
    print("âš ï¸" * 30)
    print()



def calculate_bmr(gender, weight, height, age):
    """
    ãƒãƒªã‚¹ãƒ»ãƒ™ãƒãƒ‡ã‚£ã‚¯ãƒˆæ–¹å¼ï¼ˆæ”¹è‰¯ç‰ˆï¼‰ã§åŸºç¤ä»£è¬é‡ï¼ˆBMRï¼‰ã‚’è¨ˆç®—

    Args:
        gender (str): æ€§åˆ¥ï¼ˆ"ç”·æ€§" ã¾ãŸã¯ "å¥³æ€§"ï¼‰
        weight (float): ä½“é‡ï¼ˆkgï¼‰
        height (float): èº«é•·ï¼ˆcmï¼‰
        age (int): å¹´é½¢

    Returns:
        float: åŸºç¤ä»£è¬é‡ï¼ˆkcal/æ—¥ï¼‰
    """
    if gender == "ç”·æ€§":
        # ç”·æ€§: (13.397Ã—ä½“é‡kg)+(4.799Ã—èº«é•·cm)-(5.677Ã—å¹´é½¢)+88.362
        bmr = (13.397 * weight) + (4.799 * height) - (5.677 * age) + 88.362
    else:  # å¥³æ€§
        # å¥³æ€§: (9.247Ã—ä½“é‡kg)+(3.098Ã—èº«é•·cm)-(4.330Ã—å¹´é½¢)+447.593
        bmr = (9.247 * weight) + (3.098 * height) - (4.330 * age) + 447.593

    return bmr


def calculate_tdee(bmr, activity_coefficient):
    """
    ç·æ¶ˆè²»ã‚«ãƒ­ãƒªãƒ¼ï¼ˆTDEEï¼‰ã‚’è¨ˆç®—

    Args:
        bmr (float): åŸºç¤ä»£è¬é‡ï¼ˆkcal/æ—¥ï¼‰
        activity_coefficient (float): æ´»å‹•ãƒ¬ãƒ™ãƒ«ä¿‚æ•°

    Returns:
        float: ç·æ¶ˆè²»ã‚«ãƒ­ãƒªãƒ¼ï¼ˆkcal/æ—¥ï¼‰
    """
    return bmr * activity_coefficient


def create_nutrition_graphs(name, actual_calories, target_calories, actual_protein, target_protein,
                           actual_fat, target_fat, actual_carbs, target_carbs):
    """
    ã‚«ãƒ­ãƒªãƒ¼ã¨PFCã®æ¯”è¼ƒã‚°ãƒ©ãƒ•ã‚’ç”Ÿæˆ

    Args:
        name (str): ãƒ¦ãƒ¼ã‚¶ãƒ¼å
        actual_calories (float): å®Ÿéš›ã®ã‚«ãƒ­ãƒªãƒ¼
        target_calories (float): ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼
        actual_protein (float): å®Ÿéš›ã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ª
        target_protein (float): ç›®æ¨™ã‚¿ãƒ³ãƒ‘ã‚¯è³ª
        actual_fat (float): å®Ÿéš›ã®è„‚è³ª
        target_fat (float): ç›®æ¨™è„‚è³ª
        actual_carbs (float): å®Ÿéš›ã®ç‚­æ°´åŒ–ç‰©
        target_carbs (float): ç›®æ¨™ç‚­æ°´åŒ–ç‰©

    Returns:
        str: ã‚°ãƒ©ãƒ•ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹
    """
    # 2ã¤ã®ã‚µãƒ–ãƒ—ãƒ­ãƒƒãƒˆã‚’ä½œæˆï¼ˆå·¦ï¼šã‚«ãƒ­ãƒªãƒ¼ã€å³ï¼šPFCï¼‰
    fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))

    # === å·¦å´ï¼šã‚«ãƒ­ãƒªãƒ¼æ¯”è¼ƒã‚°ãƒ©ãƒ• ===
    categories = ['Calories']
    actual_values = [actual_calories]
    target_values = [target_calories]

    x = range(len(categories))
    width = 0.35

    bars1 = ax1.bar([i - width/2 for i in x], actual_values, width, label='Actual', color='#FF6B6B', alpha=0.8)
    bars2 = ax1.bar([i + width/2 for i in x], target_values, width, label='Target', color='#4ECDC4', alpha=0.8)

    ax1.set_ylabel('kcal', fontsize=12)
    ax1.set_title('Calorie Comparison', fontsize=14, fontweight='bold')
    ax1.set_xticks(x)
    ax1.set_xticklabels(categories)
    ax1.legend()
    ax1.grid(axis='y', alpha=0.3)

    # å€¤ã‚’ãƒãƒ¼ã®ä¸Šã«è¡¨ç¤º
    for bar in bars1:
        height = bar.get_height()
        ax1.text(bar.get_x() + bar.get_width()/2., height,
                f'{int(height)}',
                ha='center', va='bottom', fontsize=10)
    for bar in bars2:
        height = bar.get_height()
        ax1.text(bar.get_x() + bar.get_width()/2., height,
                f'{int(height)}',
                ha='center', va='bottom', fontsize=10)

    # === å³å´ï¼šPFCæ¯”è¼ƒã‚°ãƒ©ãƒ• ===
    if actual_protein is not None and actual_fat is not None and actual_carbs is not None:
        pfc_categories = ['Protein (g)', 'Fat (g)', 'Carbs (g)']
        actual_pfc = [actual_protein, actual_fat, actual_carbs]
        target_pfc = [target_protein, target_fat, target_carbs]

        x2 = range(len(pfc_categories))

        bars3 = ax2.bar([i - width/2 for i in x2], actual_pfc, width, label='Actual', color='#FF6B6B', alpha=0.8)
        bars4 = ax2.bar([i + width/2 for i in x2], target_pfc, width, label='Target', color='#4ECDC4', alpha=0.8)

        ax2.set_ylabel('grams', fontsize=12)
        ax2.set_title('PFC Comparison', fontsize=14, fontweight='bold')
        ax2.set_xticks(x2)
        ax2.set_xticklabels(pfc_categories)
        ax2.legend()
        ax2.grid(axis='y', alpha=0.3)

        # å€¤ã‚’ãƒãƒ¼ã®ä¸Šã«è¡¨ç¤º
        for bar in bars3:
            height = bar.get_height()
            ax2.text(bar.get_x() + bar.get_width()/2., height,
                    f'{height:.1f}',
                    ha='center', va='bottom', fontsize=10)
        for bar in bars4:
            height = bar.get_height()
            ax2.text(bar.get_x() + bar.get_width()/2., height,
                    f'{height:.1f}',
                    ha='center', va='bottom', fontsize=10)

    plt.tight_layout()

    # ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ç”Ÿæˆ
    filename = f"nutrition_comparison_{name}.png"
    filepath = os.path.join(os.getcwd(), filename)

    # ã‚°ãƒ©ãƒ•ã‚’ä¿å­˜
    plt.savefig(filepath, dpi=150, bbox_inches='tight')
    plt.close()

    return filepath


def get_stagnation_advice_templates():
    """
    ä½“é‡åœæ»ãƒ»å¢—åŠ æ™‚ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé›†

    Returns:
        dict: ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
    """
    return {
        # å°å…¥éƒ¨åˆ†ï¼ˆåŠ±ã¾ã—ï¼‰- 25ãƒ‘ã‚¿ãƒ¼ãƒ³
        "introduction": [
            "å¤§ä¸ˆå¤«ã€ç„¦ã‚‰ãªãã¦ã„ã„ã‚“ã§ã™ã€‚",
            "ã“ã†ã„ã†æ™‚æœŸã¯èª°ã«ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚",
            "ä½“é‡ãŒåœæ»ã™ã‚‹ã®ã¯ã€ä½“ãŒé©å¿œã—ã¦ã„ã‚‹è¨¼æ‹ ã§ã™ã€‚",
            "ã“ã“ãŒè¸ã‚“å¼µã‚Šã©ã“ã‚ã§ã™ã­ã€‚",
            "åœæ»æœŸã¯æˆé•·ã®ã‚µã‚¤ãƒ³ã§ã‚‚ã‚ã‚‹ã‚“ã§ã™ã‚ˆã€‚",
            "ä½“é‡ã¯æ—¥ã€…å¤‰å‹•ã™ã‚‹ã‚‚ã®ã§ã™ã€‚",
            "ä¸€æ™‚çš„ãªå¢—åŠ ã«ä¸€å–œä¸€æ†‚ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚",
            "ã“ã‚“ãªæ—¥ã‚‚ã‚ã‚Šã¾ã™ã€‚ãã‚ŒãŒäººé–“ã§ã™ã‹ã‚‰ã€‚",
            "å®Œç’§ã˜ã‚ƒãªãã¦ã„ã„ã‚“ã§ã™ã€‚",
            "ä»Šã¾ã§ã‚ˆãé ‘å¼µã£ã¦ãã¾ã—ãŸã­ã€‚",
            "ã“ã“ã¾ã§ç¶™ç¶šã—ã¦ããŸã“ã¨ã€ãã‚Œè‡ªä½“ãŒç´ æ™´ã‚‰ã—ã„ã§ã™ã€‚",
            "åœæ»ã¯å‰é€²ã®ä¸€éƒ¨ã§ã™ã€‚",
            "ä½“ã¯æ­£ç›´ã§ã™ã€‚ä»Šã¯èª¿æ•´æœŸé–“ãªã‚“ã§ã™ã€‚",
            "è«¦ã‚ãªã„ã“ã¨ãŒä¸€ç•ªå¤§åˆ‡ã§ã™ã€‚",
            "ã“ã®å£ã‚’è¶Šãˆã‚Œã°ã€ã¾ãŸå¤‰åŒ–ãŒè¨ªã‚Œã¾ã™ã€‚",
            "åœæ»æœŸã“ãã€æœ¬å½“ã®åŠ›ãŒã¤ãæ™‚æœŸãªã‚“ã§ã™ã€‚",
            "ç„¦ã‚Šã¯ç¦ç‰©ã§ã™ã€‚ã˜ã£ãã‚Šã„ãã¾ã—ã‚‡ã†ã€‚",
            "ä½“é‡è¨ˆã®æ•°å­—ã ã‘ãŒå…¨ã¦ã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“ã€‚",
            "ç¶™ç¶šã—ã¦ã„ã‚Œã°å¿…ãšå¤‰åŒ–ã¯è¨ªã‚Œã¾ã™ã€‚",
            "ä»Šã¯ä½“ãŒæ¬¡ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã®æº–å‚™ã‚’ã—ã¦ã„ã‚‹ã‚“ã§ã™ã€‚",
            "ã“ã“ã§è«¦ã‚ãŸã‚‰ã€ä»Šã¾ã§ã®åŠªåŠ›ãŒã‚‚ã£ãŸã„ãªã„ã§ã™ã‚ˆã€‚",
            "åœæ»æœŸã‚’ä¹—ã‚Šè¶ŠãˆãŸå…ˆã«ã€æœ¬å½“ã®æˆæœãŒã‚ã‚Šã¾ã™ã€‚",
            "ã“ã†ã„ã†æ™‚ã“ãã€åŸºæœ¬ã«ç«‹ã¡è¿”ã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ä½“é‡ã¯æ¸›ã‚‹æ™‚ã‚‚åœæ»ã™ã‚‹æ™‚ã‚‚ã‚ã‚Šã¾ã™ã€‚ãã‚ŒãŒè‡ªç„¶ã§ã™ã€‚",
            "ä»Šæ—¥ã‚ˆã‚Šæ˜æ—¥ã€æ˜æ—¥ã‚ˆã‚Šæ˜å¾Œæ—¥ã€‚å°‘ã—ãšã¤å‰ã«é€²ã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚",
        ],

        # æ°´åˆ†æ‘‚å–ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ - 25ãƒ‘ã‚¿ãƒ¼ãƒ³
        "hydration": [
            "ğŸ’§ æ°´åˆ†æ‘‚å–ã‚’æ„è­˜ã—ã¦ãã ã•ã„ã€‚è„‚è‚ªã‚’åˆ†è§£ã™ã‚‹ã«ã¯æ°´ãŒä¸å¯æ¬ ã§ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ’§ 1æ—¥2ãƒªãƒƒãƒˆãƒ«ã‚’ç›®æ¨™ã«ã€ã“ã¾ã‚ã«æ°´ã‚’é£²ã¿ã¾ã—ã‚‡ã†ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ èµ·åºŠå¾Œã™ãã«ã‚³ãƒƒãƒ—1æ¯ã®æ°´ã‚’é£²ã‚€ç¿’æ…£ã‚’ã¤ã‘ã¦ã¿ã¦ãã ã•ã„ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ’§ é£Ÿäº‹ã®30åˆ†å‰ã«æ°´ã‚’é£²ã‚€ã¨ã€ä»£è¬ãŒä¸ŠãŒã‚Šã‚„ã™ããªã‚Šã¾ã™ã€‚ãã°ã§è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ å†·ãŸã„æ°´ã‚ˆã‚Šå¸¸æ¸©ã®æ°´ã®æ–¹ãŒä½“ã«å„ªã—ã„ã§ã™ã‚ˆã€‚ã„ã¤ã‚‚å¿œæ´ã—ã¦ã„ã¾ã™ã€‚",
            "ğŸ’§ æ°´åˆ†ä¸è¶³ã¯ä»£è¬ã‚’ä¸‹ã’ã¾ã™ã€‚æ„è­˜ã—ã¦é£²ã‚“ã§ãã ã•ã„ã€‚ä¸€ç·’ã«ä¹—ã‚Šè¶Šãˆã¾ã—ã‚‡ã†ã€‚",
            "ğŸ’§ ãƒˆã‚¤ãƒ¬ã®è‰²ã‚’ãƒã‚§ãƒƒã‚¯ã€‚è–„ã„é»„è‰²ãªã‚‰æ°´åˆ†OKã€æ¿ƒã„ãªã‚‰æ°´åˆ†ä¸è¶³ã§ã™ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ é‹å‹•å‰å¾Œã¯ç‰¹ã«æ°´åˆ†è£œçµ¦ã‚’å¿˜ã‚Œãšã«ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ å–‰ãŒæ¸‡ãå‰ã«é£²ã‚€ã€‚ã“ã‚ŒãŒç†æƒ³çš„ãªæ°´åˆ†è£œçµ¦ã§ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ’§ ãƒ¬ãƒ¢ãƒ³æ°´ã‚„ãƒãƒ¼ãƒ–ãƒ†ã‚£ãƒ¼ã‚‚ãŠã™ã™ã‚ã§ã™ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ’§ æ°´ç­’ã‚’æŒã¡æ­©ã„ã¦ã€ã“ã¾ã‚ã«é£²ã‚€ç¿’æ…£ã‚’ã¤ã‘ã¾ã—ã‚‡ã†ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ 1æ™‚é–“ã«ã‚³ãƒƒãƒ—1æ¯ã‚’ç›®å®‰ã«é£²ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ æ°´åˆ†ãŒè¶³ã‚Šãªã„ã¨ã€ä½“ã¯æ°´ã‚’æºœã‚è¾¼ã‚‚ã†ã¨ã—ã¾ã™ã€‚ãŸãã•ã‚“é£²ã¿ã¾ã—ã‚‡ã†ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ’§ ç‚­é…¸æ°´ã‚‚è‰¯ã„ã§ã™ãŒã€ç„¡ç³–ã®ã‚‚ã®ã‚’é¸ã‚“ã§ãã ã•ã„ã­ã€‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ ä½“é‡Ã—30mlãŒ1æ—¥ã®ç›®å®‰ã§ã™ã€‚ã—ã£ã‹ã‚Šé£²ã¿ã¾ã—ã‚‡ã†ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ æ°´ã‚’é£²ã‚€ã“ã¨ã§æº€è…¹æ„Ÿã‚‚å¾—ã‚‰ã‚Œã¾ã™ã€‚ã„ã¤ã‚‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ æœã€æ˜¼ã€å¤œã€å„é£Ÿäº‹å‰ã«å¿…ãšã‚³ãƒƒãƒ—1æ¯ã®æ°´ã‚’ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ’§ ã‚«ãƒ•ã‚§ã‚¤ãƒ³ã¯åˆ©å°¿ä½œç”¨ãŒã‚ã‚‹ã®ã§ã€ãã®åˆ†å¤šã‚ã«æ°´ã‚’ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ æ°´åˆ†ã¯ä»£è¬ã®æ½¤æ»‘æ²¹ã§ã™ã€‚ã‚±ãƒã‚‰ãšã«é£²ã¿ã¾ã—ã‚‡ã†ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ ç·‘èŒ¶ã‚„ã‚¦ãƒ¼ãƒ­ãƒ³èŒ¶ã‚‚è‰¯ã„ã§ã™ãŒã€æ°´ãŒãƒ™ã‚¹ãƒˆã§ã™ã€‚ãã°ã§è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ è„±æ°´çŠ¶æ…‹ã§ã¯è„‚è‚ªã¯ç‡ƒãˆã¾ã›ã‚“ã€‚æ°´ãŒé‡è¦ãªã‚“ã§ã™ã€‚ä¸€ç·’ã«ä¹—ã‚Šè¶Šãˆã¾ã—ã‚‡ã†ã€‚",
            "ğŸ’§ å…¥æµ´å‰å¾Œã«ã‚‚ã—ã£ã‹ã‚Šæ°´åˆ†è£œçµ¦ã‚’ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ ã‚¹ãƒãƒ›ã«ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã‚’è¨­å®šã—ã¦ã€å®šæœŸçš„ã«é£²ã‚€ç¿’æ…£ã‚’ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ’§ æ°´ã‚’é£²ã‚€ã“ã¨ã§è€å»ƒç‰©ã®æ’å‡ºã‚‚ä¿ƒé€²ã•ã‚Œã¾ã™ã€‚ã„ã¤ã‚‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’§ ä½“ãŒæ°´ã§æº€ãŸã•ã‚Œã¦ã„ã‚‹ã¨ã€ä»£è¬ãŒæ´»ç™ºã«ãªã‚Šã¾ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
        ],

        # ã‚µãƒ—ãƒªãƒ¡ãƒ³ãƒˆã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ - 25ãƒ‘ã‚¿ãƒ¼ãƒ³
        "supplements": [
            "ğŸ’Š ãƒãƒ«ãƒãƒ“ã‚¿ãƒŸãƒ³ãƒ»ãƒŸãƒãƒ©ãƒ«ã§æ „é¤Šãƒãƒ©ãƒ³ã‚¹ã‚’æ•´ãˆã¾ã—ã‚‡ã†ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š ãƒ“ã‚¿ãƒŸãƒ³Bç¾¤ã¯ä»£è¬ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ’Š ãƒã‚°ãƒã‚·ã‚¦ãƒ ãŒä¸è¶³ã™ã‚‹ã¨ä»£è¬ãŒè½ã¡ã¾ã™ã€‚ã‚µãƒ—ãƒªã‚‚æ¤œè¨ã‚’ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š ãƒ“ã‚¿ãƒŸãƒ³Dã¯è„‚è‚ªç‡ƒç„¼ã«é‡è¦ã§ã™ã€‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š äºœé‰›ã¯ç­‹è‚‰ã®ç¶­æŒã«å¿…è¦ä¸å¯æ¬ ã§ã™ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ’Š ã‚ªãƒ¡ã‚¬3è„‚è‚ªé…¸ï¼ˆé­šæ²¹ï¼‰ã‚‚ä»£è¬ã‚¢ãƒƒãƒ—ã«åŠ¹æœçš„ã§ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š ãƒ“ã‚¿ãƒŸãƒ³Cã¯æŠ—é…¸åŒ–ä½œç”¨ãŒã‚ã‚Šã€å›å¾©ã‚’åŠ©ã‘ã¾ã™ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š é‰„åˆ†ä¸è¶³ã¯ç–²åŠ´ã®åŸå› ã«ã€‚ç‰¹ã«å¥³æ€§ã¯æ„è­˜ã‚’ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š ã‚«ãƒ«ã‚·ã‚¦ãƒ ã‚‚ä»£è¬ã«é–¢ã‚ã‚‹é‡è¦ãªãƒŸãƒãƒ©ãƒ«ã§ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³ãƒ‘ã‚¦ãƒ€ãƒ¼ã§ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã‚’è£œã†ã®ã‚‚è‰¯ã„ã§ã™ã­ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ’Š ãƒ“ã‚¿ãƒŸãƒ³Eã¯è¡€è¡Œä¿ƒé€²ã«å½¹ç«‹ã¡ã¾ã™ã€‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š ã‚³ã‚¨ãƒ³ã‚¶ã‚¤ãƒ Q10ã¯ç´°èƒã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ç”£ç”Ÿã‚’åŠ©ã‘ã¾ã™ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ’Š ã‚«ãƒªã‚¦ãƒ ã¯æµ®è…«ã¿é˜²æ­¢ã«åŠ¹æœçš„ã§ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š ãƒ“ã‚¿ãƒŸãƒ³B12ã¯ç–²åŠ´å›å¾©ã«é‡è¦ã§ã™ã€‚ä¸€ç·’ã«ä¹—ã‚Šè¶Šãˆã¾ã—ã‚‡ã†ã€‚",
            "ğŸ’Š è‘‰é…¸ã‚‚ä»£è¬ã‚µã‚¤ã‚¯ãƒ«ã«æ¬ ã‹ã›ã¾ã›ã‚“ã€‚ãã°ã§è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š L-ã‚«ãƒ«ãƒ‹ãƒãƒ³ã¯è„‚è‚ªç‡ƒç„¼ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š é£Ÿäº‹ã ã‘ã§ã¯ä¸è¶³ã—ãŒã¡ãªæ „é¤Šç´ ã‚’ã‚µãƒ—ãƒªã§è£œã„ã¾ã—ã‚‡ã†ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š è³ªã®è‰¯ã„ãƒãƒ«ãƒãƒ“ã‚¿ãƒŸãƒ³ã‚’1ã¤é¸ã¶ã ã‘ã§ã‚‚é•ã„ã¾ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ’Š äºœé‰›ãƒ»ãƒã‚°ãƒã‚·ã‚¦ãƒ ãƒ»ãƒ“ã‚¿ãƒŸãƒ³B6ã®ZMAã‚‚äººæ°—ã§ã™ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ’Š ãƒ“ã‚¿ãƒŸãƒ³Kã¯éª¨ã®å¥åº·ã«ã‚‚é‡è¦ã§ã™ã€‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š ã‚»ãƒ¬ãƒ³ã¯æŠ—é…¸åŒ–ãƒŸãƒãƒ©ãƒ«ã¨ã—ã¦åƒãã¾ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š ãƒ“ã‚ªãƒãƒ³ã¯ä»£è¬ã‚’åŠ©ã‘ã‚‹ãƒ“ã‚¿ãƒŸãƒ³ã§ã™ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š ã‚¯ãƒ­ãƒ ã¯è¡€ç³–å€¤ã®å®‰å®šã«å½¹ç«‹ã¡ã¾ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ’Š ã‚µãƒ—ãƒªãƒ¡ãƒ³ãƒˆã¯è£œåŠ©ã§ã™ã€‚é£Ÿäº‹ãŒåŸºæœ¬ã§ã‚ã‚‹ã“ã¨ã‚’å¿˜ã‚Œãšã«ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ’Š è³ªã®è‰¯ã„ã‚µãƒ—ãƒªã‚’é¸ã¶ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚ã„ã¤ã‚‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
        ],

        # é‹å‹•ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ - 25ãƒ‘ã‚¿ãƒ¼ãƒ³
        "exercise": [
            "ğŸƒ é‹å‹•ã®å¼·åº¦ã‚’å°‘ã—ä¸Šã’ã¦ã¿ã‚‹ã®ã‚‚è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "ğŸƒ 5åˆ†ã§ã‚‚10åˆ†ã§ã‚‚æœ‰é…¸ç´ é‹å‹•ã‚’å–ã‚Šå…¥ã‚Œã‚‹ã¨åŠ¹æœçš„ã§ã™ã‚ˆã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸƒ ç­‹ãƒˆãƒ¬ã§ç­‹è‚‰é‡ã‚’å¢—ã‚„ã™ã¨åŸºç¤ä»£è¬ãŒä¸ŠãŒã‚Šã¾ã™ã€‚ãã¤ã„ã‘ã©ã€æŒ‘æˆ¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼",
            "ğŸƒ ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ã§ã‚‚ååˆ†åŠ¹æœãŒã‚ã‚Šã¾ã™ã€‚æ¯æ—¥30åˆ†ã‚’ç›®æ¨™ã«ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "ğŸƒ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã¯åŠ¹ç‡çš„ã«è„‚è‚ªã‚’ç‡ƒã‚„ã—ã¾ã™ã€‚ãƒãƒ¼ãƒ‰ã ã‘ã©ã€æŒ‘æˆ¦ã™ã‚‹ä¾¡å€¤ã‚ã‚Šã§ã™ï¼",
            "ğŸƒ ã‚¹ãƒˆãƒ¬ãƒƒãƒã‚‚è¡€è¡Œä¿ƒé€²ã«åŠ¹æœçš„ã§ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸƒ éšæ®µã‚’ä½¿ã†ã€ä¸€é§…æ­©ããªã©ã€æ—¥å¸¸ã§å‹•ãæ©Ÿä¼šã‚’å¢—ã‚„ã—ã¾ã—ã‚‡ã†ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸƒ æœã®é‹å‹•ã¯ä»£è¬ã‚’ä¸€æ—¥ä¸­é«˜ã‚ã¦ãã‚Œã¾ã™ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸƒ ç­‹ãƒˆãƒ¬â†’æœ‰é…¸ç´ é‹å‹•ã®é †ç•ªãŒè„‚è‚ªç‡ƒç„¼ã«åŠ¹æœçš„ã§ã™ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸƒ é‹å‹•å¾Œã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ªæ‘‚å–ã§ç­‹è‚‰ã®å›å¾©ã‚’ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸƒ ç„¡ç†ã®ãªã„ç¯„å›²ã§ã€é‹å‹•é »åº¦ã‚’å¢—ã‚„ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "ğŸƒ ãƒ¨ã‚¬ã‚„ãƒ”ãƒ©ãƒ†ã‚£ã‚¹ã‚‚ã‚¤ãƒ³ãƒŠãƒ¼ãƒãƒƒã‚¹ãƒ«ã«åŠ¹æœçš„ã§ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸƒ HIITï¼ˆé«˜å¼·åº¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ï¼‰ã‚‚æ¤œè¨ã—ã¦ã¿ã¦ã¯ã€‚ãã¤ã„ã‘ã©åŠ¹æœæŠœç¾¤ã§ã™ï¼",
            "ğŸƒ æ°´æ³³ã¯å…¨èº«é‹å‹•ã§é–¢ç¯€ã«ã‚‚å„ªã—ã„ã§ã™ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "ğŸƒ ã‚µã‚¤ã‚¯ãƒªãƒ³ã‚°ã‚‚æœ‰é…¸ç´ é‹å‹•ã¨ã—ã¦å„ªç§€ã§ã™ã€‚ãã°ã§è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸƒ ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆã¯æœ€å¼·ã®ç­‹ãƒˆãƒ¬ã§ã™ã€‚æ¯æ—¥10å›ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ã€‚ãã¤ã„ã‘ã©ã€æŒ‘æˆ¦ã—ã¦ã¿ã‚ˆã†ï¼",
            "ğŸƒ ãƒ—ãƒ©ãƒ³ã‚¯ã§ä½“å¹¹ã‚’é›ãˆã‚‹ã¨å§¿å‹¢ã‚‚è‰¯ããªã‚Šã¾ã™ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸƒ é‹å‹•ã¯æ¯æ—¥ã˜ã‚ƒãªãã¦ã‚‚å¤§ä¸ˆå¤«ã€‚é€±3-4å›ã§ååˆ†ã§ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸƒ é‹å‹•å‰ã®ã‚¹ãƒˆãƒ¬ãƒƒãƒã§æ€ªæˆ‘äºˆé˜²ã‚’å¿˜ã‚Œãšã«ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸƒ å¥½ããªéŸ³æ¥½ã‚’è´ããªãŒã‚‰é‹å‹•ã™ã‚‹ã¨æ¥½ã—ãç¶šã‘ã‚‰ã‚Œã¾ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸƒ é‹å‹•ä»²é–“ã‚’ä½œã‚‹ã¨ç¶™ç¶šã—ã‚„ã™ããªã‚Šã¾ã™ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸƒ æ•£æ­©ã‹ã‚‰å§‹ã‚ã‚‹ã ã‘ã§ã‚‚é•ã„ã¾ã™ã€‚å°ã•ãªä¸€æ­©ã‹ã‚‰ã€‚ã„ã¤ã‚‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸƒ é‹å‹•å¾Œã¯å¿…ãšã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ã‚’ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸƒ ä½“ã‚’å‹•ã‹ã™ã“ã¨ã§ã‚¹ãƒˆãƒ¬ã‚¹è§£æ¶ˆã«ã‚‚ãªã‚Šã¾ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸƒ ç¶™ç¶šãŒä½•ã‚ˆã‚Šå¤§åˆ‡ã€‚ç„¡ç†ã®ãªã„ç¯„å›²ã§ç¶šã‘ã¾ã—ã‚‡ã†ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
        ],

        # ç¡çœ ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ - 25ãƒ‘ã‚¿ãƒ¼ãƒ³
        "sleep": [
            "ğŸ˜´ ç¡çœ æ™‚é–“ã¯ç¢ºä¿ã§ãã¦ã„ã¾ã™ã‹ï¼Ÿ7æ™‚é–“ã¯çœ ã‚ŠãŸã„ã¨ã“ã‚ã§ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ ç¡çœ ä¸è¶³ã¯é£Ÿæ¬²ãƒ›ãƒ«ãƒ¢ãƒ³ã‚’ä¹±ã—ã¾ã™ã€‚ã—ã£ã‹ã‚Šçœ ã‚Šã¾ã—ã‚‡ã†ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ˜´ è³ªã®è‰¯ã„ç¡çœ ãŒä»£è¬ã‚’æ­£å¸¸ã«ä¿ã¡ã¾ã™ã€‚ãã°ã§è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ å¯ã‚‹å‰ã®ã‚¹ãƒãƒ›ã¯æ§ãˆã‚ã«ã€‚ãƒ–ãƒ«ãƒ¼ãƒ©ã‚¤ãƒˆã¯ç¡çœ ã‚’å¦¨ã’ã¾ã™ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ˜´ å°±å¯æ™‚é–“ã‚’ä¸€å®šã«ã™ã‚‹ã¨ä½“å†…ãƒªã‚ºãƒ ãŒæ•´ã„ã¾ã™ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ å¯å®¤ã®æ¸©åº¦ã¯18-20åº¦ãŒç†æƒ³çš„ã§ã™ã€‚ã„ã¤ã‚‚å¿œæ´ã—ã¦ã„ã¾ã™ã€‚",
            "ğŸ˜´ å¯ã‚‹2æ™‚é–“å‰ã«ã¯é£Ÿäº‹ã‚’æ¸ˆã¾ã›ã¾ã—ã‚‡ã†ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ ã‚«ãƒ•ã‚§ã‚¤ãƒ³ã¯åˆå¾Œ3æ™‚ä»¥é™ã¯æ§ãˆã‚ã«ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ˜´ ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ã¯ç¡çœ ã®è³ªã‚’ä¸‹ã’ã¾ã™ã€‚ç¨‹ã€…ã«ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ æœæ—¥ã‚’æµ´ã³ã‚‹ã¨ä½“å†…æ™‚è¨ˆãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ˜´ æ˜¼å¯ã¯20åˆ†ä»¥å†…ã«ã¨ã©ã‚ã¾ã—ã‚‡ã†ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ å¯ã‚‹å‰ã®è»½ã„ã‚¹ãƒˆãƒ¬ãƒƒãƒã§ãƒªãƒ©ãƒƒã‚¯ã‚¹ã‚’ã€‚ã„ã¤ã‚‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ æš—ãã¦é™ã‹ãªç’°å¢ƒã§çœ ã‚Šã¾ã—ã‚‡ã†ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ ãƒã‚°ãƒã‚·ã‚¦ãƒ ã¯ç¡çœ ã®è³ªã‚’é«˜ã‚ã¾ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ˜´ ç¡çœ ä¸è¶³ã ã¨è„‚è‚ªãŒç‡ƒãˆã«ãããªã‚Šã¾ã™ã€‚ãã°ã§è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ æˆé•·ãƒ›ãƒ«ãƒ¢ãƒ³ã¯ç¡çœ ä¸­ã«åˆ†æ³Œã•ã‚Œã¾ã™ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ˜´ ç¡çœ è² å‚µã¯é€±æœ«ã®å¯ã ã‚ã§ã¯è§£æ¶ˆã§ãã¾ã›ã‚“ã€‚æ¯æ—¥7æ™‚é–“ã‚’ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ å¯å…·ã«ã‚‚ã“ã ã‚ã£ã¦ã¿ã¦ã¯ã€‚å¿«é©ãªç¡çœ ç’°å¢ƒã‚’ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ ãƒ©ãƒ™ãƒ³ãƒ€ãƒ¼ã®é¦™ã‚Šã¯ãƒªãƒ©ãƒƒã‚¯ã‚¹åŠ¹æœãŒã‚ã‚Šã¾ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ˜´ ç‘æƒ³ã‚„æ·±å‘¼å¸ã§å¿ƒã‚’è½ã¡ç€ã‘ã¦ã‹ã‚‰çœ ã‚Šã¾ã—ã‚‡ã†ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ å…¥æµ´ã¯å°±å¯1-2æ™‚é–“å‰ãŒãƒ™ã‚¹ãƒˆã§ã™ã€‚ã„ã¤ã‚‚å¿œæ´ã—ã¦ã„ã¾ã™ã€‚",
            "ğŸ˜´ ç¡çœ ã‚¢ãƒ—ãƒªã§ç¡çœ ã®è³ªã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã®ã‚‚è‰¯ã„ã§ã™ã­ã€‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ å¤œæ›´ã‹ã—ã¯ä»£è¬ã‚’ä¹±ã—ã¾ã™ã€‚è¦å‰‡æ­£ã—ãã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ˜´ ç¡çœ ã¯ä½“ã®ä¿®å¾©æ™‚é–“ã€‚ã—ã£ã‹ã‚Šçœ ã‚‹ã“ã¨ã‚‚åŠªåŠ›ã§ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ˜´ ç–²ã‚Œã¦ã„ã‚‹ã®ã«çœ ã‚Œãªã„æ™‚ã¯ã€é‹å‹•ä¸è¶³ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
        ],

        # é£Ÿäº‹ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ - 25ãƒ‘ã‚¿ãƒ¼ãƒ³
        "diet": [
            "ğŸ½ï¸ PFCãƒãƒ©ãƒ³ã‚¹ã‚’è¦‹ç›´ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã¯è¶³ã‚Šã¦ã„ã¾ã™ã‹ï¼Ÿå¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ ç‚­æ°´åŒ–ç‰©ã‚’å°‘ã—æ¸›ã‚‰ã—ã¦ã¿ã‚‹ã®ã‚‚ä¸€ã¤ã®æ–¹æ³•ã§ã™ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "ğŸ½ï¸ é£Ÿç‰©ç¹Šç¶­ã‚’ã—ã£ã‹ã‚Šæ‘‚ã‚‹ã¨è…¸å†…ç’°å¢ƒãŒæ•´ã„ã¾ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ½ï¸ é‡èœã‚’å…ˆã«é£Ÿã¹ã‚‹ã€Œãƒ™ã‚¸ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€ã‚’è©¦ã—ã¦ã¿ã¦ã¯ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ½ï¸ è‰¯è³ªãªè„‚è³ªï¼ˆã‚ªãƒ¡ã‚¬3ï¼‰ã‚’æ„è­˜ã—ã¦æ‘‚ã‚Šã¾ã—ã‚‡ã†ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ åŠ å·¥é£Ÿå“ã‚’æ¸›ã‚‰ã—ã¦ã€è‡ªç„¶ãªé£Ÿæã‚’å¢—ã‚„ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "ğŸ½ï¸ å¡©åˆ†ã®æ‘‚ã‚Šéãã¯æµ®è…«ã¿ã®åŸå› ã«ã€‚æ§ãˆã‚ã«ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ ã‚ˆãå™›ã‚“ã§é£Ÿã¹ã‚‹ã“ã¨ã§æº€è…¹æ„ŸãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ é£Ÿäº‹ã®æ™‚é–“ã‚’ä¸€å®šã«ã™ã‚‹ã¨ä½“å†…ãƒªã‚ºãƒ ãŒæ•´ã„ã¾ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ½ï¸ é–“é£Ÿã‚’è¦‹ç›´ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ä½•ã‚’é£Ÿã¹ã¦ã„ã¾ã™ã‹ï¼Ÿãã°ã§è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã‚’æ¯é£Ÿæ‘‚ã‚‹ã“ã¨ã§ç­‹è‚‰ã®åˆ†è§£ã‚’é˜²ã’ã¾ã™ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "ğŸ½ï¸ ç³–è³ªã¯æ•µã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚è³ªã¨é‡ã‚’æ„è­˜ã—ã¾ã—ã‚‡ã†ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ½ï¸ ç™ºé…µé£Ÿå“ã§è…¸å†…ç’°å¢ƒã‚’æ•´ãˆã‚‹ã®ã‚‚åŠ¹æœçš„ã§ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ å¤œé…ã„é£Ÿäº‹ã¯é¿ã‘ã¾ã—ã‚‡ã†ã€‚å°±å¯3æ™‚é–“å‰ã«ã¯æ¸ˆã¾ã›ãŸã„ã§ã™ã­ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "ğŸ½ï¸ ãƒãƒ¼ãƒˆãƒ‡ã‚¤ã‚’è¨­ã‘ã‚‹ã®ã‚‚ä¸€ã¤ã®æ–¹æ³•ã§ã™ã€‚é€±1å›ã ã‘ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ½ï¸ é£Ÿäº‹ã®è¨˜éŒ²ã‚’ç¶šã‘ã‚‹ã“ã¨ã§è¦‹ãˆã¦ãã‚‹ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ æ°´æº¶æ€§é£Ÿç‰©ç¹Šç¶­ãŒè±Šå¯Œãªé£Ÿæã‚’å–ã‚Šå…¥ã‚Œã¾ã—ã‚‡ã†ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ GIå€¤ã®ä½ã„é£Ÿå“ã‚’é¸ã¶ã¨è¡€ç³–å€¤ãŒå®‰å®šã—ã¾ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ ã‚¿ãƒ³ãƒ‘ã‚¯è³ªï¼šä½“é‡Ã—1.5-2gãŒç›®å®‰ã§ã™ã€‚ã„ã¤ã‚‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ è„‚è³ªã‚’æ¥µç«¯ã«æ¸›ã‚‰ã™ã®ã¯é€†åŠ¹æœã€‚é©åº¦ã«æ‘‚ã‚Šã¾ã—ã‚‡ã†ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ½ï¸ è‰²ã¨ã‚Šã©ã‚Šã®é‡èœã§æ§˜ã€…ãªæ „é¤Šç´ ã‚’ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ½ï¸ é£Ÿäº‹ã‚’æŠœãã®ã¯NGã€‚ä»£è¬ãŒè½ã¡ã¾ã™ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³ã‚·ã‚§ã‚¤ã‚¯ã‚’æ´»ç”¨ã™ã‚‹ã®ã‚‚æ‰‹ã§ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ½ï¸ ãŠé…’ã¯ç³–è³ªã¨ã‚«ãƒ­ãƒªãƒ¼ãŒé«˜ã‚ã€‚æ§ãˆã‚ã«ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ½ï¸ å¤–é£ŸãŒç¶šã„ãŸå¾Œã¯ã€è‡ªç‚Šã§èª¿æ•´ã—ã¾ã—ã‚‡ã†ã€‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
        ],

        # ãƒã‚¤ãƒ³ãƒ‰ã‚»ãƒƒãƒˆã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ - 25ãƒ‘ã‚¿ãƒ¼ãƒ³
        "mindset": [
            "ğŸ§  ä½“é‡è¨ˆã®æ•°å­—ã ã‘ã«å›šã‚ã‚Œãªã„ã§ã€‚è¦‹ãŸç›®ã®å¤‰åŒ–ã‚‚å¤§åˆ‡ã§ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  å®Œç’§ã‚’æ±‚ã‚ã™ããªã„ã“ã¨ã€‚80ç‚¹ã§ååˆ†ã§ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ§  åœæ»æœŸã¯æˆé•·ç—›ã®ã‚ˆã†ãªã‚‚ã®ã€‚ä¹—ã‚Šè¶Šãˆã‚Œã°å¼·ããªã‚Œã¾ã™ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  æ¯”ã¹ã‚‹ã®ã¯ä»–äººã§ã¯ãªãã€éå»ã®è‡ªåˆ†ã§ã™ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ§  çŸ­æœŸçš„ãªçµæœã‚ˆã‚Šã€é•·æœŸçš„ãªç¿’æ…£ã‚’å¤§åˆ‡ã«ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  å¤±æ•—ã¯æˆåŠŸã®å…ƒã€‚è«¦ã‚ãªã‘ã‚Œã°å¤±æ•—ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  ä»Šæ—¥ã§ãã‚‹ã“ã¨ã‚’ã€ä»Šæ—¥ã‚„ã‚‹ã€‚ãã‚Œã ã‘ã§ååˆ†ã§ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ§  ã‚¹ãƒˆãƒ¬ã‚¹ã¯é£Ÿæ¬²ã‚’å¢—é€²ã•ã›ã¾ã™ã€‚ãƒªãƒ©ãƒƒã‚¯ã‚¹ã‚‚å¤§åˆ‡ã«ã€‚ãã°ã§è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  è‡ªåˆ†ã‚’è²¬ã‚ãªã„ã§ãã ã•ã„ã€‚å„ªã—ãæ¥ã—ã¾ã—ã‚‡ã†ã€‚ã„ã¤ã‚‚è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  å°ã•ãªæˆåŠŸã‚’èªã‚ã¦ã€è‡ªåˆ†ã‚’è¤’ã‚ã¦ã‚ã’ã¦ãã ã•ã„ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  ä½“ã¯æ—¥ã€…å¤‰åŒ–ã—ã¦ã„ã¾ã™ã€‚ç„¦ã‚‰ãšè¦³å¯Ÿã‚’ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ§  ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã¯ç«¶äº‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒã‚¤ãƒšãƒ¼ã‚¹ã§ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  ç›®æ¨™ã¯é”æˆã™ã‚‹ãŸã‚ã§ã¯ãªãã€æ–¹å‘ã‚’ç¤ºã™ãŸã‚ã®ã‚‚ã®ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ§  ã§ããªã„ã“ã¨ã‚ˆã‚Šã€ã§ãã‚‹ã“ã¨ã«ç›®ã‚’å‘ã‘ã¾ã—ã‚‡ã†ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  ç¶™ç¶šã§ãã¦ã„ã‚‹ã“ã¨è‡ªä½“ãŒç´ æ™´ã‚‰ã—ã„æˆæœã§ã™ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  ä¸€å–œä¸€æ†‚ã›ãšã€é•·ã„ç›®ã§è¦‹ã¾ã—ã‚‡ã†ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ§  ãƒã‚¬ãƒ†ã‚£ãƒ–ãªæ„Ÿæƒ…ã‚‚å—ã‘å…¥ã‚Œã¦ã€‚ãã‚Œã‚‚è‡ªåˆ†ã§ã™ã€‚ãã°ã§è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  å‘¨ã‚Šã®è©•ä¾¡ã‚ˆã‚Šã€è‡ªåˆ†ã®æ°—æŒã¡ã‚’å¤§åˆ‡ã«ã€‚ã„ã¤ã‚‚å¿œæ´ã—ã¦ã„ã¾ã™ã€‚",
            "ğŸ§  å®Œç’§ãªä¸€æ—¥ã‚ˆã‚Šã€ç¶™ç¶šã§ãã‚‹æ¯æ—¥ã‚’ã€‚ãã°ã«ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  å¤‰åŒ–ã«ã¯æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ç„¦ã‚‰ãªã„ã§ã€‚ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚",
            "ğŸ§  è‡ªåˆ†ã®ä½“ã‚’ä¿¡ã˜ã¾ã—ã‚‡ã†ã€‚å¿…ãšå¿œãˆã¦ãã‚Œã¾ã™ã€‚ä¿¡ã˜ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  ã‚„ã‚ãŸããªã£ãŸã‚‰ã€å§‹ã‚ãŸç†ç”±ã‚’æ€ã„å‡ºã—ã¦ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  ä»Šæ—¥ã‚‚ç¶™ç¶šã§ããŸã€‚ãã‚Œã ã‘ã§100ç‚¹ã§ã™ã€‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
            "ğŸ§  éå»ã¯å¤‰ãˆã‚‰ã‚Œãªã„ã€‚ã§ã‚‚æœªæ¥ã¯ä½œã‚Œã¾ã™ã€‚ãã°ã§è¦‹å®ˆã£ã¦ã„ã¾ã™ã‚ˆã€‚",
            "ğŸ§  è‡ªåˆ†ã¸ã®æŠ•è³‡ã ã¨æ€ã£ã¦ã€æ¥½ã—ã¿ã¾ã—ã‚‡ã†ã€‚ã„ã¤ã‚‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆã€‚",
        ],

        # ç· ã‚ããã‚Š - 25ãƒ‘ã‚¿ãƒ¼ãƒ³
        "conclusion": [
            "æ˜æ—¥ã‚‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "ç¶™ç¶šã¯åŠ›ãªã‚Šã€‚ä¿¡ã˜ã¦é€²ã¿ã¾ã—ã‚‡ã†ã€‚",
            "ã‚ãªãŸãªã‚‰çµ¶å¯¾ã«ä¹—ã‚Šè¶Šãˆã‚‰ã‚Œã¾ã™ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "å°ã•ãªä¸€æ­©ã‚’ç©ã¿é‡ã­ã¦ã„ãã¾ã—ã‚‡ã†ã€‚",
            "ä»Šæ—¥ã‚‚è¨˜éŒ²ã‚’ã¤ã‘ãŸã“ã¨ã€ç´ æ™´ã‚‰ã—ã„ã§ã™ã€‚",
            "è«¦ã‚ãªã‘ã‚Œã°ã€å¿…ãšçµæœã¯ã¤ã„ã¦ãã¾ã™ã€‚",
            "ã“ã®èª¿å­ã§ã€ã‚³ãƒ„ã‚³ãƒ„ã¨ç¶šã‘ã¦ã„ãã¾ã—ã‚‡ã†ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "åœæ»æœŸã‚’æŠœã‘ã‚Œã°ã€ã¾ãŸå¤‰åŒ–ãŒè¨ªã‚Œã¾ã™ã€‚ãã¤ã„ã‘ã©ã€æŒ‘æˆ¦ã—ã¦ã¿ã‚ˆã†ï¼",
            "ä»Šæ—¥ã‚ˆã‚Šæ˜æ—¥ã€å°‘ã—ã§ã‚‚å‰ã«é€²ã‚ã‚Œã°OKã§ã™ã€‚",
            "ã‚ãªãŸã®åŠªåŠ›ã¯å¿…ãšå ±ã‚ã‚Œã¾ã™ã€‚",
            "ä¸€ç·’ã«ä¹—ã‚Šè¶Šãˆã¦ã„ãã¾ã—ã‚‡ã†ã€‚",
            "ç„¦ã‚‰ãšã€ç€å®Ÿã«ã€å‰ã‚’å‘ã„ã¦ã€‚",
            "ã§ãã‚‹ã“ã¨ã‹ã‚‰ã€ä¸€ã¤ãšã¤ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "ä»Šæ—¥ã‚‚ãŠç–²ã‚Œã•ã¾ã§ã—ãŸã€‚æ˜æ—¥ã‚‚å¿œæ´ã—ã¦ã„ã¾ã™ã€‚",
            "å¤‰åŒ–ã¯å¿…ãšè¨ªã‚Œã¾ã™ã€‚ä¿¡ã˜ã¦ç¶šã‘ã¾ã—ã‚‡ã†ã€‚ãã¤ã„ã‘ã©ã€æŒ‘æˆ¦ã—ã¦ã¿ã‚ˆã†ï¼",
            "ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§å¤§ä¸ˆå¤«ã§ã™ã€‚",
            "ã“ã“ã¾ã§æ¥ãŸã‚“ã§ã™ã€‚å¾Œæˆ»ã‚Šã¯ã—ã¾ã›ã‚“ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "æ¬¡ã®ä¸€æ­©ã‚’ã€ä¸€ç·’ã«è¸ã¿å‡ºã—ã¾ã—ã‚‡ã†ã€‚",
            "åœæ»ã¯ä¸€æ™‚çš„ã§ã™ã€‚å¿…ãšå‹•ãå‡ºã—ã¾ã™ã€‚å¤§å¤‰ã ã‘ã©ã€ã‚„ã£ã¦ã¿ã‚ˆã†ï¼",
            "ä»Šæ—¥ã‚‚é ‘å¼µã‚Šã¾ã—ãŸã­ã€‚è‡ªåˆ†ã‚’è¤’ã‚ã¦ã‚ã’ã¦ãã ã•ã„ã€‚",
            "ç¶™ç¶šã§ãã¦ã„ã‚‹ã‚ãªãŸã¯ã€ã‚‚ã†å‹è€…ã§ã™ã€‚",
            "æ˜æ—¥ã¸ã®å¸Œæœ›ã‚’æŒã£ã¦ã€ä»Šæ—¥ã¯ã‚†ã£ãã‚Šä¼‘ã‚“ã§ãã ã•ã„ã€‚",
            "å°ã•ãªå¤‰åŒ–ã®ç©ã¿é‡ã­ãŒã€å¤§ããªçµæœã‚’ç”Ÿã¿ã¾ã™ã€‚",
            "ã‚ãªãŸã®é ‘å¼µã‚Šã‚’ã€ç§ã¯è¦‹ã¦ã„ã¾ã™ã€‚",
            "ä¸€ç·’ã«ã‚´ãƒ¼ãƒ«ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€‚å¿…ãšè¾¿ã‚Šç€ã‘ã¾ã™ã€‚",
        ],
    }


def generate_stagnation_advice():
    """
    ä½“é‡åœæ»ãƒ»å¢—åŠ æ™‚ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ç”Ÿæˆ

    Returns:
        str: ç”Ÿæˆã•ã‚ŒãŸã‚¢ãƒ‰ãƒã‚¤ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    """
    templates = get_stagnation_advice_templates()

    # å„ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«1ã¤ãšã¤é¸æŠ
    introduction = random.choice(templates["introduction"])
    hydration = random.choice(templates["hydration"])
    supplements = random.choice(templates["supplements"])

    # é‹å‹•ã€ç¡çœ ã€é£Ÿäº‹ã€ãƒã‚¤ãƒ³ãƒ‰ã‚»ãƒƒãƒˆã‹ã‚‰2ã¤ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠ
    additional_categories = random.sample(
        ["exercise", "diet", "sleep", "mindset"],
        2
    )
    additional_advice = [
        random.choice(templates[cat]) for cat in additional_categories
    ]

    conclusion = random.choice(templates["conclusion"])

    # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’çµ„ã¿ç«‹ã¦
    message = f"\nğŸ’¡ ã‚¢ãƒ‰ãƒã‚¤ã‚¹:\n"
    message += f"{introduction}\n\n"
    message += f"{hydration}\n"
    message += f"{supplements}\n"
    for advice in additional_advice:
        message += f"{advice}\n"
    message += f"\n{conclusion}\n"

    return message


def generate_weekly_report(profile, weight_history, daily_records, week_number):
    """
    é€±åˆŠãƒ¬ãƒãƒ¼ãƒˆï¼ˆãƒ¡ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ã®æ‰‹ç´™ï¼‰ã‚’ç”Ÿæˆ

    Args:
        profile (dict): ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±
        weight_history (list): ä½“é‡å±¥æ­´ã®ãƒªã‚¹ãƒˆ
        daily_records (list): æ—¥ã€…ã®è¨˜éŒ²ãƒ‡ãƒ¼ã‚¿ã®ãƒªã‚¹ãƒˆ
        week_number (int): é€±ç•ªå·

    Returns:
        str: é€±åˆŠãƒ¬ãƒãƒ¼ãƒˆ
    """
    name = profile["name"]

    # æœ€è¿‘7æ—¥é–“ã®ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º
    recent_days = min(7, len(daily_records))
    recent_records = daily_records[-recent_days:] if daily_records else []
    recent_weights = weight_history[-recent_days:] if len(weight_history) >= recent_days else weight_history

    # ä½“é‡å¤‰åŒ–ã‚’è¨ˆç®—
    if len(recent_weights) >= 2:
        week_weight_change = recent_weights[-1] - recent_weights[0]
    else:
        week_weight_change = 0

    # ã‚«ãƒ­ãƒªãƒ¼ã®å¹³å‡ã‚’è¨ˆç®—
    calories_list = [r.get("calories") for r in recent_records if r.get("calories") is not None]
    avg_calories = sum(calories_list) / len(calories_list) if calories_list else None

    # é‹å‹•ã—ãŸæ—¥æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
    exercise_days = sum(1 for r in recent_records
                       if r.get("exercise") and r["exercise"].lower() not in ["ãªã—", "ãªã—ã€‚", "ç‰¹ã«ãªã—"])

    # ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
    report = "\n" + "=" * 70 + "\n"
    report += "ğŸ“¬ ãƒ¡ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ã®æ‰‹ç´™ ğŸ“¬\n"
    report += f"ã€ç¬¬{week_number}é€± é€±åˆŠãƒ¬ãƒãƒ¼ãƒˆã€‘\n"
    report += "=" * 70 + "\n\n"

    report += f"{name}ã•ã‚“ã¸\n\n"

    report += f"ç¬¬{week_number}é€±ã€ãŠç–²ã‚Œã•ã¾ã§ã—ãŸã€‚\n"
    report += f"ãƒ¡ãƒ³ã‚¿ãƒ¼ã¨ã—ã¦ã€{name}ã•ã‚“ã®ã“ã®1é€±é–“ã®é ‘å¼µã‚Šã‚’æŒ¯ã‚Šè¿”ã‚Šã¾ã™ã€‚\n\n"

    # ä½“é‡å¤‰åŒ–ã«ã¤ã„ã¦ã®ã‚³ãƒ¡ãƒ³ãƒˆ
    report += "ã€ä½“é‡ã®å¤‰åŒ–ã€‘\n"
    if week_weight_change < -0.5:
        report += f"ã“ã®1é€±é–“ã§{abs(week_weight_change):.1f}kgæ¸›å°‘ã—ã¾ã—ãŸã€‚\n"
        report += f"ç´ æ™´ã‚‰ã—ã„æˆæœã§ã™ï¼{name}ã•ã‚“ã®åŠªåŠ›ãŒæ•°å­—ã«è¡¨ã‚Œã¦ã„ã¾ã™ã­ã€‚\n"
        report += f"ã“ã®èª¿å­ã§ã€ç„¡ç†ãªãç¶šã‘ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\n"
    elif week_weight_change > 0.5:
        report += f"ã“ã®1é€±é–“ã§{week_weight_change:.1f}kgå¢—åŠ ã—ã¾ã—ãŸã€‚\n"
        report += f"ã§ã‚‚å¤§ä¸ˆå¤«ã€‚ä½“é‡ã¯æ—¥ã€…å¤‰å‹•ã™ã‚‹ã‚‚ã®ã§ã™ã€‚\n"
        report += f"æ°´åˆ†é‡ã‚„ãƒ›ãƒ«ãƒ¢ãƒ³ãƒãƒ©ãƒ³ã‚¹ã§ã‚‚ç°¡å˜ã«1-2kgå¤‰ã‚ã‚Šã¾ã™ã€‚\n"
        report += f"ç„¦ã‚‰ãšã€ç¶™ç¶šã™ã‚‹ã“ã¨ãŒä½•ã‚ˆã‚Šå¤§åˆ‡ã§ã™ã‚ˆã€‚\n"
    else:
        report += f"ä½“é‡ã¯æ¦‚ã­æ¨ªã°ã„ã§ã™ï¼ˆ{week_weight_change:+.1f}kgï¼‰ã€‚\n"
        report += f"åœæ»æœŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã‚Œã¯ä½“ãŒé©å¿œã—ã¦ã„ã‚‹è¨¼æ‹ ã€‚\n"
        report += f"ã“ã“ã§è«¦ã‚ãšã«ç¶šã‘ã‚‹ã“ã¨ã§ã€æ¬¡ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã«é€²ã‚ã¾ã™ã€‚\n"
    report += "\n"

    # é‹å‹•ã«ã¤ã„ã¦ã®ã‚³ãƒ¡ãƒ³ãƒˆ
    report += "ã€é‹å‹•ã®ç¶™ç¶šçŠ¶æ³ã€‘\n"
    if exercise_days >= 5:
        report += f"ã“ã®1é€±é–“ã§{exercise_days}æ—¥ã‚‚é‹å‹•ã•ã‚Œã¾ã—ãŸã€‚\n"
        report += f"ç´ æ™´ã‚‰ã—ã„ç¶™ç¶šåŠ›ã§ã™ï¼é‹å‹•ç¿’æ…£ãŒã—ã£ã‹ã‚Šèº«ã«ã¤ã„ã¦ã„ã¾ã™ã­ã€‚\n"
    elif exercise_days >= 3:
        report += f"ã“ã®1é€±é–“ã§{exercise_days}æ—¥é‹å‹•ã•ã‚Œã¾ã—ãŸã€‚\n"
        report += f"é€±3-4å›ã®é‹å‹•ã€ç†æƒ³çš„ãªãƒšãƒ¼ã‚¹ã§ã™ã€‚ã“ã®èª¿å­ã§ç¶šã‘ã¾ã—ã‚‡ã†ã€‚\n"
    elif exercise_days >= 1:
        report += f"ã“ã®1é€±é–“ã§{exercise_days}æ—¥é‹å‹•ã•ã‚Œã¾ã—ãŸã€‚\n"
        report += f"é‹å‹•ã§ããŸæ—¥ãŒã‚ã‚‹ã“ã¨ã€ãã‚Œè‡ªä½“ãŒç´ æ™´ã‚‰ã—ã„ã§ã™ã€‚\n"
        report += f"ã§ãã‚‹ç¯„å›²ã§å°‘ã—ãšã¤å¢—ã‚„ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\n"
    else:
        report += f"ã“ã®1é€±é–“ã¯é‹å‹•ã®è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\n"
        report += f"å¤§ä¸ˆå¤«ã§ã™ã€‚ã¾ãšã¯5åˆ†ã®ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ã‹ã‚‰å§‹ã‚ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ\n"
        report += f"å°ã•ãªä¸€æ­©ãŒã€å¤§ããªå¤‰åŒ–ã‚’ç”Ÿã¿ã¾ã™ã€‚\n"
    report += "\n"

    # é£Ÿäº‹ã«ã¤ã„ã¦ã®ã‚³ãƒ¡ãƒ³ãƒˆ
    if avg_calories:
        target_cal = profile.get("target_calories", 0)
        cal_diff = avg_calories - target_cal
        cal_diff_pct = (cal_diff / target_cal * 100) if target_cal > 0 else 0

        report += "ã€é£Ÿäº‹ã®çŠ¶æ³ã€‘\n"
        report += f"ã“ã®1é€±é–“ã®å¹³å‡æ‘‚å–ã‚«ãƒ­ãƒªãƒ¼ã¯{avg_calories:.0f}kcalã§ã—ãŸã€‚\n"
        report += f"ï¼ˆç›®æ¨™: {target_cal:.0f}kcalï¼‰\n\n"

        if abs(cal_diff_pct) < 10:
            report += f"ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼ã«å¯¾ã—ã¦Â±10%ä»¥å†…ã€å®Œç’§ã§ã™ï¼\n"
            report += f"ã“ã®ç²¾åº¦ã§ç¶šã‘ã‚‰ã‚Œã‚Œã°ã€ç¢ºå®Ÿã«çµæœãŒã¤ã„ã¦ãã¾ã™ã€‚\n"
        elif cal_diff > 0:
            report += f"ç›®æ¨™ã‚ˆã‚Šå°‘ã—ã‚ªãƒ¼ãƒãƒ¼æ°—å‘³ã§ã™ãŒã€å¤§ä¸ˆå¤«ã§ã™ã€‚\n"
            report += f"æ•°å­—ã¯ã‚ãã¾ã§ç›®å®‰ã€‚å®Œç’§ã‚’æ±‚ã‚ã™ããšã€80ç‚¹ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€‚\n"
        else:
            report += f"ç›®æ¨™ã‚ˆã‚Šå°‘ãªã‚ã§ã™ã­ã€‚\n"
            report += f"æ¥µç«¯ã«æ¸›ã‚‰ã—ã™ãã‚‹ã¨ä»£è¬ãŒè½ã¡ã‚‹ã®ã§ã€\n"
            report += f"ã—ã£ã‹ã‚Šé£Ÿã¹ã‚‹ã“ã¨ã‚‚å¤§åˆ‡ã§ã™ã‚ˆã€‚\n"
        report += "\n"

    # åŠ±ã¾ã—ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    report += "ã€ãƒ¡ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€‘\n\n"

    encouragement_messages = [
        f"{name}ã•ã‚“ã€ã“ã®1é€±é–“ã‚‚æœ¬å½“ã«ã‚ˆãé ‘å¼µã‚Šã¾ã—ãŸã­ã€‚\n",
        f"{name}ã•ã‚“ã®ç¶™ç¶šåŠ›ã€ç´ æ™´ã‚‰ã—ã„ã§ã™ã€‚\n",
        f"{name}ã•ã‚“ã€ç€å®Ÿã«å‰é€²ã—ã¦ã„ã¾ã™ã‚ˆã€‚\n",
        f"{name}ã•ã‚“ã€ã“ã®åŠªåŠ›ã¯å¿…ãšå ±ã‚ã‚Œã¾ã™ã€‚\n",
    ]
    report += random.choice(encouragement_messages)

    report += "\n"
    report += "ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã¯ä¸€ç›´ç·šã«ã¯é€²ã¿ã¾ã›ã‚“ã€‚\n"
    report += "è‰¯ã„æ—¥ã‚‚ã‚ã‚Œã°ã€æ€ã†ã‚ˆã†ã«ã„ã‹ãªã„æ—¥ã‚‚ã‚ã‚Šã¾ã™ã€‚\n"
    report += "ã§ã‚‚ã€ãã‚ŒãŒæ™®é€šãªã‚“ã§ã™ã€‚\n\n"

    report += "å¤§åˆ‡ãªã®ã¯ã€å®Œç’§ã‚’ç›®æŒ‡ã™ã“ã¨ã§ã¯ãªãã€\n"
    report += "è«¦ã‚ãšã«ç¶šã‘ã‚‹ã“ã¨ã§ã™ã€‚\n\n"

    advice_messages = [
        "æ¥é€±ã‚‚ã€ä»Šé€±ã¨åŒã˜ã‚ˆã†ã«ç¶šã‘ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\n",
        "æ¥é€±ã¯ã€ä»Šé€±ã‚ˆã‚Šå°‘ã—ã ã‘æ„è­˜ã‚’é«˜ã‚ã¦ã¿ã¾ã›ã‚“ã‹ã€‚\n",
        "æ¥é€±ã‚‚ã€ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§å¤§ä¸ˆå¤«ã§ã™ã€‚\n",
        "æ¥é€±ã‚‚ã€ä¸€ç·’ã«é ‘å¼µã£ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\n",
    ]
    report += random.choice(advice_messages)

    report += "\n"
    report += f"ã„ã¤ã‚‚{name}ã•ã‚“ã®ã“ã¨ã‚’å¿œæ´ã—ã¦ã„ã¾ã™ã€‚\n"
    report += "ä¸€ç·’ã«ã€ç›®æ¨™ã«å‘ã‹ã£ã¦é€²ã‚“ã§ã„ãã¾ã—ã‚‡ã†ï¼\n\n"

    report += "ğŸ’ª ãƒ•ã‚¡ã‚¤ãƒˆï¼\n\n"
    report += "â€• ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¡ãƒ³ã‚¿ãƒ¼ã‚ˆã‚Š\n"
    report += "=" * 70 + "\n"

    return report


def generate_monthly_report(profile, weight_history, daily_records, month_number):
    """
    æœˆé–“ãƒ¬ãƒãƒ¼ãƒˆï¼ˆãƒ¡ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ã®æ‰‹ç´™ï¼‰ã‚’ç”Ÿæˆ

    Args:
        profile (dict): ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±
        weight_history (list): ä½“é‡å±¥æ­´ã®ãƒªã‚¹ãƒˆ
        daily_records (list): æ—¥ã€…ã®è¨˜éŒ²ãƒ‡ãƒ¼ã‚¿ã®ãƒªã‚¹ãƒˆ
        month_number (int): æœˆç•ªå·

    Returns:
        str: æœˆé–“ãƒ¬ãƒãƒ¼ãƒˆ
    """
    name = profile["name"]

    # æœ€è¿‘30æ—¥é–“ã®ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º
    recent_days = min(30, len(daily_records))
    recent_records = daily_records[-recent_days:] if daily_records else []
    recent_weights = weight_history[-recent_days:] if len(weight_history) >= recent_days else weight_history

    # ä½“é‡å¤‰åŒ–ã‚’è¨ˆç®—
    if len(recent_weights) >= 2:
        month_weight_change = recent_weights[-1] - recent_weights[0]
        initial_weight = recent_weights[0]
        current_weight = recent_weights[-1]
        change_percentage = (month_weight_change / initial_weight * 100) if initial_weight > 0 else 0
    else:
        month_weight_change = 0
        current_weight = profile.get("current_weight", 0)
        change_percentage = 0

    # ã‚«ãƒ­ãƒªãƒ¼ã®å¹³å‡ã‚’è¨ˆç®—
    calories_list = [r.get("calories") for r in recent_records if r.get("calories") is not None]
    avg_calories = sum(calories_list) / len(calories_list) if calories_list else None

    # PFCã®å¹³å‡ã‚’è¨ˆç®—
    protein_list = [r.get("protein") for r in recent_records if r.get("protein") is not None]
    fat_list = [r.get("fat") for r in recent_records if r.get("fat") is not None]
    carbs_list = [r.get("carbs") for r in recent_records if r.get("carbs") is not None]

    avg_protein = sum(protein_list) / len(protein_list) if protein_list else None
    avg_fat = sum(fat_list) / len(fat_list) if fat_list else None
    avg_carbs = sum(carbs_list) / len(carbs_list) if carbs_list else None

    # é‹å‹•ã—ãŸæ—¥æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
    exercise_days = sum(1 for r in recent_records
                       if r.get("exercise") and r["exercise"].lower() not in ["ãªã—", "ãªã—ã€‚", "ç‰¹ã«ãªã—"])
    exercise_rate = (exercise_days / recent_days * 100) if recent_days > 0 else 0

    # ä½“é‡ãŒæ¸›å°‘ã—ãŸæ—¥æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
    decrease_days = 0
    for i in range(1, len(recent_weights)):
        if recent_weights[i] < recent_weights[i-1]:
            decrease_days += 1

    # ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
    report = "\n" + "=" * 70 + "\n"
    report += "ğŸ“¬ ãƒ¡ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ã®æ‰‹ç´™ ğŸ“¬\n"
    report += f"ã€ç¬¬{month_number}ãƒ¶æœˆ æœˆé–“ãƒ¬ãƒãƒ¼ãƒˆã€‘\n"
    report += "=" * 70 + "\n\n"

    report += f"{name}ã•ã‚“ã¸\n\n"

    report += f"æ—©ã„ã‚‚ã®ã§ã€ã‚‚ã†{month_number}ãƒ¶æœˆãŒçµŒã¡ã¾ã—ãŸã€‚\n"
    report += f"ãƒ¡ãƒ³ã‚¿ãƒ¼ã¨ã—ã¦ã€{name}ã•ã‚“ã®ã“ã®1ãƒ¶æœˆé–“ã®æˆé•·ã‚’\n"
    report += f"ã˜ã£ãã‚ŠæŒ¯ã‚Šè¿”ã‚ŠãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\n"

    # ä½“é‡å¤‰åŒ–ã«ã¤ã„ã¦ã®è©³ç´°ãªã‚³ãƒ¡ãƒ³ãƒˆ
    report += "ã€ã“ã®1ãƒ¶æœˆã®ä½“é‡å¤‰åŒ–ã€‘\n"
    report += f"é–‹å§‹æ™‚: {recent_weights[0]:.1f}kg â†’ ç¾åœ¨: {current_weight:.1f}kg\n"
    report += f"å¤‰åŒ–: {month_weight_change:+.1f}kgï¼ˆ{change_percentage:+.1f}%ï¼‰\n\n"

    if month_weight_change < -1:
        report += f"ã“ã®1ãƒ¶æœˆã§{abs(month_weight_change):.1f}kgæ¸›å°‘ã—ã¾ã—ãŸã€‚\n"
        report += f"æœ¬å½“ã«ç´ æ™´ã‚‰ã—ã„æˆæœã§ã™ï¼\n\n"

        if abs(change_percentage) >= 2 and abs(change_percentage) <= 4:
            report += f"æœˆã«ä½“é‡ã®{abs(change_percentage):.1f}%æ¸›ã€ç†æƒ³çš„ãªãƒšãƒ¼ã‚¹ã§ã™ã€‚\n"
            report += f"ã“ã®ç¯„å›²ã§ã‚ã‚Œã°ã€ãƒªãƒã‚¦ãƒ³ãƒ‰ã®ãƒªã‚¹ã‚¯ã‚‚ä½ãã€\n"
            report += f"å¥åº·çš„ã«æ¸›é‡ã§ãã¦ã„ã¾ã™ã€‚\n"
        elif abs(change_percentage) < 2:
            report += f"ã‚†ã£ãã‚Šã¨ã—ãŸãƒšãƒ¼ã‚¹ã§ã™ãŒã€ãã‚ŒãŒä¸€ç•ªç¢ºå®Ÿã§ã™ã€‚\n"
            report += f"æ€¥æ¿€ãªæ¸›é‡ã‚ˆã‚Šã‚‚ã€ç€å®Ÿãªæ¸›é‡ã®æ–¹ãŒ\n"
            report += f"é•·æœŸçš„ã«ã¯æˆåŠŸã—ã‚„ã™ã„ã‚“ã§ã™ã‚ˆã€‚\n"
        else:
            report += f"å°‘ã—ãƒšãƒ¼ã‚¹ãŒé€Ÿã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n"
            report += f"ç´ æ™´ã‚‰ã—ã„çµæœã§ã™ãŒã€ä½“ã¸ã®è² æ‹…ã‚‚è€ƒãˆã¦ã€\n"
            report += f"ç„¡ç†ã‚’ã—ã™ããªã„ã‚ˆã†ã«æ°—ã‚’ã¤ã‘ã¾ã—ã‚‡ã†ã€‚\n"
    elif month_weight_change > 1:
        report += f"ã“ã®1ãƒ¶æœˆã§{month_weight_change:.1f}kgå¢—åŠ ã—ã¾ã—ãŸã€‚\n"
        report += f"ã§ã‚‚ã€è½ã¡è¾¼ã‚€å¿…è¦ã¯å…¨ãã‚ã‚Šã¾ã›ã‚“ã€‚\n\n"
        report += f"ä½“é‡ã¯æœ¬å½“ã«æ§˜ã€…ãªè¦å› ã§å¤‰å‹•ã—ã¾ã™ã€‚\n"
        report += f"æ°´åˆ†ã€ç­‹è‚‰é‡ã€ãƒ›ãƒ«ãƒ¢ãƒ³ãƒãƒ©ãƒ³ã‚¹ã€ã‚¹ãƒˆãƒ¬ã‚¹...\n"
        report += f"æ•°å­—ã ã‘ã§åˆ¤æ–­ã™ã‚‹ã®ã¯æ—©è¨ˆã§ã™ã€‚\n\n"
        report += f"å¤§åˆ‡ãªã®ã¯ã€ã“ã®1ãƒ¶æœˆé–“ã€{name}ã•ã‚“ãŒ\n"
        report += f"è«¦ã‚ãšã«ç¶šã‘ã¦ããŸã¨ã„ã†äº‹å®Ÿã§ã™ã€‚\n"
        report += f"ãã‚Œã“ããŒæœ€å¤§ã®æˆæœãªã‚“ã§ã™ã‚ˆã€‚\n"
    else:
        report += f"ä½“é‡ã¯ã»ã¼æ¨ªã°ã„ã§ã™ã€‚\n"
        report += f"ã“ã‚Œã¯åœæ»æœŸã®å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã­ã€‚\n\n"
        report += f"åœæ»æœŸã¯èª°ã«ã§ã‚‚è¨ªã‚Œã¾ã™ã€‚\n"
        report += f"ä½“ãŒæ–°ã—ã„çŠ¶æ…‹ã«é©å¿œã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹è¨¼æ‹ ã§ã™ã€‚\n"
        report += f"ã“ã“ã§è«¦ã‚ãšã«ç¶šã‘ã‚‹ã“ã¨ãŒã€\n"
        report += f"æ¬¡ã®ãƒ–ãƒ¬ã‚¤ã‚¯ã‚¹ãƒ«ãƒ¼ã«ã¤ãªãŒã‚Šã¾ã™ã€‚\n"
    report += "\n"

    # é‹å‹•ã«ã¤ã„ã¦ã®è©³ç´°ãªã‚³ãƒ¡ãƒ³ãƒˆ
    report += "ã€é‹å‹•ã®ç¶™ç¶šçŠ¶æ³ã€‘\n"
    report += f"é‹å‹•ã—ãŸæ—¥æ•°: {exercise_days}æ—¥ / {recent_days}æ—¥ï¼ˆ{exercise_rate:.0f}%ï¼‰\n\n"

    if exercise_rate >= 70:
        report += f"ç´ æ™´ã‚‰ã—ã„ç¶™ç¶šç‡ã§ã™ï¼\n"
        report += f"é‹å‹•ç¿’æ…£ãŒå®Œå…¨ã«å®šç€ã—ã¦ã„ã¾ã™ã­ã€‚\n"
        report += f"ã“ã®ç¿’æ…£ã“ããŒã€{name}ã•ã‚“ã®ä¸€ç”Ÿã®è²¡ç”£ã«ãªã‚Šã¾ã™ã€‚\n"
    elif exercise_rate >= 40:
        report += f"è‰¯ã„ç¶™ç¶šç‡ã§ã™ã€‚\n"
        report += f"é€±3-4å›ã®ãƒšãƒ¼ã‚¹ã§é‹å‹•ã§ãã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã­ã€‚\n"
        report += f"ã“ã®ãƒšãƒ¼ã‚¹ãªã‚‰ç„¡ç†ãªãç¶šã‘ã‚‰ã‚Œã¾ã™ã€‚\n"
    elif exercise_rate >= 20:
        report += f"é‹å‹•ã®ç¿’æ…£ã¥ãã‚Šã®é€”ä¸­ã§ã™ã­ã€‚\n"
        report += f"ç„¦ã‚‰ãªãã¦å¤§ä¸ˆå¤«ã§ã™ã€‚\n"
        report += f"æ¥æœˆã¯ã€ä»Šæœˆã‚ˆã‚Šã»ã‚“ã®å°‘ã—ã ã‘å›æ•°ã‚’å¢—ã‚„ã™ã“ã¨ã‚’\n"
        report += f"ç›®æ¨™ã«ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ\n"
    else:
        report += f"é‹å‹•ã®ç¿’æ…£ãŒã¾ã å®šç€ã—ã¦ã„ãªã„ã‚ˆã†ã§ã™ã­ã€‚\n"
        report += f"ã§ã‚‚å¤§ä¸ˆå¤«ã€‚æœ€åˆã¯ã¿ã‚“ãªãã†ã§ã™ã€‚\n"
        report += f"ã¾ãšã¯é€±1å›ã€5åˆ†ã®ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ã‹ã‚‰ã€‚\n"
        report += f"å°ã•ãªä¸€æ­©ãŒã€å¤§ããªå¤‰åŒ–ã‚’ç”Ÿã¿ã¾ã™ã€‚\n"
    report += "\n"

    # é£Ÿäº‹ã«ã¤ã„ã¦ã®è©³ç´°ãªã‚³ãƒ¡ãƒ³ãƒˆ
    if avg_calories:
        target_cal = profile.get("target_calories", 0)

        report += "ã€é£Ÿäº‹ã®çŠ¶æ³ã€‘\n"
        report += f"å¹³å‡æ‘‚å–ã‚«ãƒ­ãƒªãƒ¼: {avg_calories:.0f}kcal/æ—¥\n"
        report += f"ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼: {target_cal:.0f}kcal/æ—¥\n"

        if avg_protein and avg_fat and avg_carbs:
            report += f"\nå¹³å‡PFCãƒãƒ©ãƒ³ã‚¹:\n"
            report += f"  ã‚¿ãƒ³ãƒ‘ã‚¯è³ª(P): {avg_protein:.1f}g\n"
            report += f"  è„‚è³ª(F): {avg_fat:.1f}g\n"
            report += f"  ç‚­æ°´åŒ–ç‰©(C): {avg_carbs:.1f}g\n"

        report += "\n"

        cal_diff = avg_calories - target_cal
        cal_diff_pct = (cal_diff / target_cal * 100) if target_cal > 0 else 0

        if abs(cal_diff_pct) < 10:
            report += f"ç´ æ™´ã‚‰ã—ã„ï¼ç›®æ¨™ã«å¯¾ã—ã¦Â±10%ä»¥å†…ã§ã™ã€‚\n"
            report += f"é£Ÿäº‹ç®¡ç†ãŒã—ã£ã‹ã‚Šã§ãã¦ã„ã¾ã™ã­ã€‚\n"
        elif cal_diff > 0:
            report += f"ç›®æ¨™ã‚ˆã‚Š{cal_diff:.0f}kcalå¤šã‚ã§ã™ãŒã€\n"
            report += f"å®Œç’§ã§ã‚ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\n"
            report += f"å¤§åˆ‡ãªã®ã¯ã€æ„è­˜ã—ç¶šã‘ã‚‹ã“ã¨ã§ã™ã€‚\n"
        else:
            report += f"ç›®æ¨™ã‚ˆã‚Š{abs(cal_diff):.0f}kcalå°‘ãªã‚ã§ã™ã€‚\n"
            report += f"æ¸›ã‚‰ã—ã™ãã¯ä»£è¬ã®ä½ä¸‹ã«ã¤ãªãŒã‚‹ã®ã§ã€\n"
            report += f"ã‚‚ã†å°‘ã—é£Ÿã¹ã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ã‚ˆã€‚\n"
        report += "\n"

    # ãƒ‡ãƒ¼ã‚¿åˆ†æ
    report += "ã€ã“ã®1ãƒ¶æœˆã®åˆ†æã€‘\n"
    if decrease_days > 0:
        report += f"ä½“é‡ãŒæ¸›å°‘ã—ãŸæ—¥: {decrease_days}æ—¥\n"
        report += f"ç€å®Ÿã«å‰é€²ã—ã¦ã„ã‚‹è¨¼æ‹ ã§ã™ã€‚\n"
    report += "\n"

    # åŠ±ã¾ã—ã¨æ¬¡æœˆã¸ã®å±•æœ›
    report += "ã€ãƒ¡ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€‘\n\n"

    report += f"{name}ã•ã‚“ã€ã“ã®1ãƒ¶æœˆé–“ã€æœ¬å½“ã«ãŠç–²ã‚Œã•ã¾ã§ã—ãŸã€‚\n\n"

    report += "æ•°å­—ã«è¡¨ã‚Œã‚‹æˆæœã‚‚å¤§åˆ‡ã§ã™ãŒã€\n"
    report += "ãã‚Œä»¥ä¸Šã«å¤§åˆ‡ãªã®ã¯ã€ã“ã®1ãƒ¶æœˆé–“ã€\n"
    report += f"{name}ã•ã‚“ãŒè«¦ã‚ãšã«ç¶šã‘ã¦ããŸã¨ã„ã†äº‹å®Ÿã§ã™ã€‚\n\n"

    report += "ç¶™ç¶šã¯ã€èª°ã«ã§ã‚‚ã§ããã†ã§ã€å®Ÿã¯ä¸€ç•ªé›£ã—ã„ã“ã¨ã€‚\n"
    report += f"ãã‚Œã‚’æˆã—é‚ã’ã¦ã„ã‚‹{name}ã•ã‚“ã¯ã€\n"
    report += "ã‚‚ã†æ—¢ã«å¤§ããªæˆåŠŸã‚’åã‚ã¦ã„ã‚‹ã‚“ã§ã™ã€‚\n\n"

    report += "æ¥æœˆã‚‚ã€ä»Šæœˆã¨åŒã˜ã‚ˆã†ã«ã€\n"
    report += "ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§é€²ã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚\n\n"

    report += "å®Œç’§ã‚’ç›®æŒ‡ã™å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\n"
    report += "80ç‚¹ã§ååˆ†ã€‚80ç‚¹ã‚’ç¶™ç¶šã™ã‚‹ã“ã¨ãŒã€\n"
    report += "100ç‚¹ã‚’ä¸€åº¦å–ã‚‹ã‚ˆã‚Šã‚‚é¥ã‹ã«ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã€‚\n\n"

    report += f"{name}ã•ã‚“ãªã‚‰ã€å¿…ãšç›®æ¨™ã«è¾¿ã‚Šç€ã‘ã¾ã™ã€‚\n"
    report += "ç§ã¯ãã‚Œã‚’ç¢ºä¿¡ã—ã¦ã„ã¾ã™ã€‚\n\n"

    report += "æ¥æœˆã‚‚ã€ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼\n"
    report += f"ã„ã¤ã‚‚{name}ã•ã‚“ã®ã“ã¨ã‚’å¿œæ´ã—ã¦ã„ã¾ã™ã€‚\n\n"

    report += "ğŸ’ª ãƒ•ã‚¡ã‚¤ãƒˆï¼\n\n"
    report += "â€• ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¡ãƒ³ã‚¿ãƒ¼ã‚ˆã‚Š\n"
    report += "=" * 70 + "\n"

    return report


def save_report_to_file(report, name, report_type, period_number):
    """
    ãƒ¬ãƒãƒ¼ãƒˆã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜

    Args:
        report (str): ãƒ¬ãƒãƒ¼ãƒˆå†…å®¹
        name (str): ãƒ¦ãƒ¼ã‚¶ãƒ¼å
        report_type (str): "weekly" or "monthly"
        period_number (int): é€±ç•ªå·ã¾ãŸã¯æœˆç•ªå·

    Returns:
        str: ä¿å­˜ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
    """
    import datetime

    timestamp = datetime.datetime.now().strftime('%Y%m%d_%H%M%S')

    if report_type == "weekly":
        filename = f"weekly_report_{name}_week{period_number}_{timestamp}.txt"
    else:
        filename = f"monthly_report_{name}_month{period_number}_{timestamp}.txt"

    filepath = os.path.join(os.getcwd(), filename)

    try:
        with open(filepath, 'w', encoding='utf-8') as f:
            f.write(report)
        return filepath
    except Exception as e:
        print(f"âš ï¸ ãƒ¬ãƒãƒ¼ãƒˆã®ä¿å­˜ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: {e}")
        return None


def generate_graduation_message(profile, weight_history):
    """
    å’æ¥­æ™‚ã®ç´†ä½™æ›²æŠ˜ã‚’æŒ¯ã‚Šè¿”ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆ

    Args:
        profile (dict): ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±
        weight_history (list): ä½“é‡å±¥æ­´ã®ãƒªã‚¹ãƒˆï¼ˆæ—¥ä»˜ã¨ãƒšã‚¢ã§ã¯ãªãä½“é‡ã®ã¿ã®ãƒªã‚¹ãƒˆï¼‰

    Returns:
        str: å’æ¥­ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    """
    name = profile["name"]
    initial_weight = profile["initial_weight"]
    final_weight = weight_history[-1] if weight_history else initial_weight
    total_loss = initial_weight - final_weight
    duration = len(weight_history)

    # ä½“é‡å¤‰åŒ–ã®åˆ†æ
    max_weight = max(weight_history) if weight_history else initial_weight
    min_weight = min(weight_history) if weight_history else initial_weight

    # å¢—åŠ ã—ãŸæ—¥æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
    increase_days = 0
    decrease_days = 0
    for i in range(1, len(weight_history)):
        if weight_history[i] > weight_history[i-1]:
            increase_days += 1
        elif weight_history[i] < weight_history[i-1]:
            decrease_days += 1

    # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ
    message = f"\n{'='*70}\n"
    message += f"ã€{name}ã•ã‚“ã®{duration}æ—¥é–“ã®è»Œè·¡ã€‘\n"
    message += f"{'='*70}\n\n"

    message += f"{name}ã•ã‚“ã€{duration}æ—¥é–“ã€æœ¬å½“ã«ãŠç–²ã‚Œã•ã¾ã§ã—ãŸã€‚\n\n"

    # ãƒ‰ãƒ©ãƒã‚’æŒ¯ã‚Šè¿”ã‚‹
    message += "ã“ã®æœŸé–“ã‚’æŒ¯ã‚Šè¿”ã‚‹ã¨...\n\n"

    if increase_days > 0:
        message += f"ä½“é‡ãŒå¢—ãˆãŸæ—¥ãŒ{increase_days}æ—¥ã‚ã‚Šã¾ã—ãŸã€‚\n"
        message += f"ãã®æ™‚ã€ãã£ã¨æ‚”ã—ã‹ã£ãŸã§ã—ã‚‡ã†ã€‚ã§ã‚‚è«¦ã‚ãªã‹ã£ãŸã€‚\n"
        message += f"ãã‚ŒãŒä»Šæ—¥ã®{name}ã•ã‚“ã‚’ä½œã£ãŸã‚“ã§ã™ã€‚\n\n"

    if decrease_days > 0:
        message += f"ä½“é‡ãŒæ¸›ã£ãŸæ—¥ã¯{decrease_days}æ—¥ã€‚\n"
        message += f"ä¸€æ­©ãšã¤ã€ç€å®Ÿã«å‰é€²ã—ãŸè¨¼ã§ã™ã€‚\n\n"

    if max_weight > initial_weight:
        message += f"æœ€é«˜ä½“é‡{max_weight:.1f}kgã‚’è¨˜éŒ²ã—ãŸæ—¥ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚\n"
        message += f"ã§ã‚‚ã€ãã“ã‹ã‚‰{max_weight - final_weight:.1f}kgæ¸›ã‚‰ã—ãŸã‚“ã§ã™ã€‚\n"
        message += f"ã“ã‚Œã¯ç´›ã‚Œã‚‚ãªã{name}ã•ã‚“ã®åŠªåŠ›ã®çµæœã§ã™ã€‚\n\n"

    message += f"æœ€çµ‚çš„ã«{total_loss:.1f}kgæ¸›ã¨ã„ã†æˆæœã€‚\n"
    message += f"ã“ã®æ•°å­—ã¯ã€{name}ã•ã‚“ãŒæ­©ã‚“ã§ããŸé“ã®ã‚Šã‚’ç‰©èªã£ã¦ã„ã¾ã™ã€‚\n\n"

    # åŠ±ã¾ã—ã®è¨€è‘‰
    message += "ğŸ’­ ä»Šæ—¥ã§çµ‚ã‚ã‚Šã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\n"
    message += "   ã“ã“ã‹ã‚‰ãŒæœ¬å½“ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã™ã€‚\n\n"

    message += f"{name}ã•ã‚“ãªã‚‰ã€ãã£ã¨å¤§ä¸ˆå¤«ã€‚\n"
    message += f"ã“ã®{duration}æ—¥é–“ã§åŸ¹ã£ãŸç¿’æ…£ã¨è‡ªä¿¡ã‚’èƒ¸ã«ã€\n"
    message += f"ã“ã‚Œã‹ã‚‰ã‚‚{name}ã•ã‚“ã‚‰ã—ãã€å‰ã‚’å‘ã„ã¦é€²ã‚“ã§ãã ã•ã„ã€‚\n\n"

    message += "ã„ã¤ã§ã‚‚å¿œæ´ã—ã¦ã„ã¾ã™ï¼ğŸ’ª\n\n"
    message += f"â€• ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¡ãƒ³ã‚¿ãƒ¼ã‚ˆã‚Šã€{name}ã•ã‚“ã¸\n"
    message += f"{'='*70}\n"

    return message


def print_comparison_table(actual_calories, target_calories, actual_protein, target_protein,
                           actual_fat, target_fat, actual_carbs, target_carbs):
    """
    ã‚«ãƒ­ãƒªãƒ¼ã¨PFCã®æ¯”è¼ƒè¡¨ã‚’è¡¨ç¤º

    Args:
        actual_calories (float): å®Ÿéš›ã®ã‚«ãƒ­ãƒªãƒ¼
        target_calories (float): ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼
        actual_protein (float): å®Ÿéš›ã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ª
        target_protein (float): ç›®æ¨™ã‚¿ãƒ³ãƒ‘ã‚¯è³ª
        actual_fat (float): å®Ÿéš›ã®è„‚è³ª
        target_fat (float): ç›®æ¨™è„‚è³ª
        actual_carbs (float): å®Ÿéš›ã®ç‚­æ°´åŒ–ç‰©
        target_carbs (float): ç›®æ¨™ç‚­æ°´åŒ–ç‰©
    """
    print("\n" + "=" * 70)
    print("ã€æ „é¤Šç´ æ¯”è¼ƒè¡¨ã€‘")
    print("=" * 70)
    print(f"{'é …ç›®':<12} {'å®Ÿéš›':<15} {'ç›®æ¨™':<15} {'å·®ç•°':<15}")
    print("-" * 70)

    # ã‚«ãƒ­ãƒªãƒ¼
    cal_diff = actual_calories - target_calories
    cal_diff_pct = (cal_diff / target_calories * 100) if target_calories > 0 else 0
    print(f"{'ã‚«ãƒ­ãƒªãƒ¼':<10} {actual_calories:>8.0f}kcal   {target_calories:>8.0f}kcal   {cal_diff:>+8.0f}kcal ({cal_diff_pct:>+5.1f}%)")

    # ã‚¿ãƒ³ãƒ‘ã‚¯è³ª
    if actual_protein is not None and target_protein > 0:
        p_diff = actual_protein - target_protein
        p_diff_pct = (p_diff / target_protein * 100)
        print(f"{'ã‚¿ãƒ³ãƒ‘ã‚¯è³ª':<8} {actual_protein:>8.1f}g      {target_protein:>8.1f}g      {p_diff:>+8.1f}g   ({p_diff_pct:>+5.1f}%)")

    # è„‚è³ª
    if actual_fat is not None and target_fat > 0:
        f_diff = actual_fat - target_fat
        f_diff_pct = (f_diff / target_fat * 100)
        print(f"{'è„‚è³ª':<12} {actual_fat:>8.1f}g      {target_fat:>8.1f}g      {f_diff:>+8.1f}g   ({f_diff_pct:>+5.1f}%)")

    # ç‚­æ°´åŒ–ç‰©
    if actual_carbs is not None and target_carbs > 0:
        c_diff = actual_carbs - target_carbs
        c_diff_pct = (c_diff / target_carbs * 100)
        print(f"{'ç‚­æ°´åŒ–ç‰©':<10} {actual_carbs:>8.1f}g      {target_carbs:>8.1f}g      {c_diff:>+8.1f}g   ({c_diff_pct:>+5.1f}%)")

    print("=" * 70)
    print()


def calculate_target_calories_and_pfc(profile):
    """
    ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼ã¨PFCãƒãƒ©ãƒ³ã‚¹ã‚’è¨ˆç®—

    Args:
        profile (dict): ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±

    Returns:
        dict: ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼ã€P/F/Cï¼ˆgï¼‰
    """
    # åŸºç¤ä»£è¬é‡ã‚’è¨ˆç®—
    bmr = calculate_bmr(
        profile["gender"],
        profile["current_weight"],
        profile["height"],
        profile["age"]
    )

    # ç·æ¶ˆè²»ã‚«ãƒ­ãƒªãƒ¼ï¼ˆTDEEï¼‰ã‚’è¨ˆç®—
    tdee = calculate_tdee(bmr, profile["activity_coefficient"])

    # ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ãŸã‚«ãƒ­ãƒªãƒ¼èª¿æ•´
    # æœˆã«ä½“é‡ã®2%ï¼ˆãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ï¼‰ã¾ãŸã¯4%ï¼ˆãƒãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰ï¼‰ã‚’æ¸›ã‚‰ã™ãŸã‚ã®1æ—¥ã‚ãŸã‚Šã®ã‚«ãƒ­ãƒªãƒ¼ä¸è¶³ã‚’è¨ˆç®—
    # è„‚è‚ª1kg = ç´„7200kcal
    weight_loss_per_month = profile["current_weight"] * profile["reduction_rate"]
    weight_loss_per_day = weight_loss_per_month / 30
    calorie_deficit_per_day = weight_loss_per_day * 7200

    # ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼ = TDEE - ã‚«ãƒ­ãƒªãƒ¼ä¸è¶³
    target_calories = tdee - calorie_deficit_per_day

    # PFCãƒãƒ©ãƒ³ã‚¹ã‚’è¨ˆç®—ï¼ˆP:30%, F:20%, C:50%ï¼‰
    protein_calories = target_calories * 0.30
    fat_calories = target_calories * 0.20
    carbs_calories = target_calories * 0.50

    # ã‚«ãƒ­ãƒªãƒ¼ã‚’ã‚°ãƒ©ãƒ ã«å¤‰æ›ï¼ˆP:4kcal/g, F:9kcal/g, C:4kcal/gï¼‰
    protein_grams = protein_calories / 4
    fat_grams = fat_calories / 9
    carbs_grams = carbs_calories / 4

    return {
        "bmr": bmr,
        "tdee": tdee,
        "target_calories": target_calories,
        "protein": protein_grams,
        "fat": fat_grams,
        "carbs": carbs_grams
    }


def select_plan():
    """
    ãƒ—ãƒ©ãƒ³ã‚’é¸æŠã™ã‚‹ï¼ˆç¾åœ¨ã¯990å††ãƒ—ãƒ©ãƒ³ã®ã¿ï¼‰

    Returns:
        dict: ãƒ—ãƒ©ãƒ³æƒ…å ±ï¼ˆãƒ—ãƒ©ãƒ³åã€æ–™é‡‘ï¼‰
    """
    print("ã€ãƒ—ãƒ©ãƒ³æ–™é‡‘ã€‘")
    print("=" * 60)
    print("ğŸ’° 990å††ãƒ—ãƒ©ãƒ³")
    print("   - ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã¾ãŸã¯ãƒãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰ã‚’ãŠé¸ã³ã„ãŸã ã‘ã¾ã™")
    print("   - ã„ã¤ã§ã‚‚è§£ç´„å¯èƒ½")
    print("=" * 60)
    print()


    return {
        "plan_name": "990å††ãƒ—ãƒ©ãƒ³",
        "price": "990å††"
    }


def get_profile():
    """
    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’å–å¾—ã™ã‚‹

    Returns:
        dict: ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ï¼ˆåå‰ã€ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã€æœŸé–“ã€ç¾åœ¨ä½“é‡ã€ç›®æ¨™ä½“é‡ï¼‰
    """
    print("ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®šã€‘")
    print("ã¾ãšã¯ã€ã‚ãªãŸã®ã“ã¨ã‚’æ•™ãˆã¦ãã ã•ã„ï¼\n")

    # åå‰ã®å…¥åŠ›

    print(f"\n{name}ã•ã‚“ã€ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼")

    # æ€§åˆ¥ã®å…¥åŠ›
    print("\nã€æ€§åˆ¥ã€‘æ€§åˆ¥ã‚’æ•™ãˆã¦ãã ã•ã„")
    while True:
        if gender == "1":
            gender = "ç”·æ€§"
            break
        elif gender == "2":
            gender = "å¥³æ€§"
            break
        else:
            print("âš ï¸ 1 ã¾ãŸã¯ 2 ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")

    # å¹´é½¢ã®å…¥åŠ›
    print("\nã€å¹´é½¢ã€‘å¹´é½¢ã‚’æ•™ãˆã¦ãã ã•ã„")
    while True:
        try:
            if age > 0 and age < 120:
                break
            else:
                print("âš ï¸ æ­£ã—ã„å¹´é½¢ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
        except ValueError:
            print("âš ï¸ æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")

    # èº«é•·ã®å…¥åŠ›
    print("\nã€èº«é•·ã€‘èº«é•·ã¯ä½•cmã§ã™ã‹ï¼Ÿ")
    while True:
        try:
            if height > 0 and height < 250:
                break
            else:
                print("âš ï¸ æ­£ã—ã„èº«é•·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
        except ValueError:
            print("âš ï¸ æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")

    # æ´»å‹•ãƒ¬ãƒ™ãƒ«ã®å…¥åŠ›
    print("\nã€æ´»å‹•ãƒ¬ãƒ™ãƒ«ã€‘æ™®æ®µã®æ´»å‹•ãƒ¬ãƒ™ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„")
    print("=" * 60)
    print("1. ä½ã„ï¼šåº§ã‚Šä»•äº‹ä¸­å¿ƒï¼ˆä¿‚æ•°1.2ï¼‰")
    print("2. ã‚„ã‚„ä½ã„ï¼šæ—¥å¸¸ç”Ÿæ´»+é€±1å›ç¨‹åº¦é‹å‹•ï¼ˆä¿‚æ•°1.375ï¼‰")
    print("3. ä¸­ç¨‹åº¦ï¼šé€±3å›ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ï¼ˆä¿‚æ•°1.55ï¼‰")
    print("4. é«˜ã„ï¼šé€±4~5å›ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ï¼ˆä¿‚æ•°1.725ï¼‰")
    print("5. éå¸¸ã«é«˜ã„ï¼šè‚‰ä½“åŠ´åƒ+é€±5å›ä»¥ä¸Šãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ï¼ˆä¿‚æ•°1.9ï¼‰")
    print("=" * 60)

    activity_levels = {
        "1": ("ä½ã„", 1.2),
        "2": ("ã‚„ã‚„ä½ã„", 1.375),
        "3": ("ä¸­ç¨‹åº¦", 1.55),
        "4": ("é«˜ã„", 1.725),
        "5": ("éå¸¸ã«é«˜ã„", 1.9)
    }

    while True:
        if activity_choice in activity_levels:
            activity_name, activity_coefficient = activity_levels[activity_choice]
            break
        else:
            print("âš ï¸ 1~5 ã®ã„ãšã‚Œã‹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")

    # ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã®é¸æŠ
    print("\nã€ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã€‘ã©ã®ãƒšãƒ¼ã‚¹ã§é€²ã‚ã¾ã™ã‹ï¼Ÿ")
    print("=" * 60)
    print("1. ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰")
    print("   - æœˆã«ä½“é‡ã®2%ãƒšãƒ¼ã‚¹ã§æ¸›é‡")
    print("   - ç„¡ç†ãªãç¶šã‘ãŸã„æ–¹ã«ãŠã™ã™ã‚")
    print("   - ãƒªãƒã‚¦ãƒ³ãƒ‰ã—ã«ãã„å¥åº·çš„ãªãƒšãƒ¼ã‚¹")
    print()
    print("2. ãƒãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰")
    print("   - æœˆã«ä½“é‡ã®4%ãƒšãƒ¼ã‚¹ã§æ¸›é‡")
    print("   - ã—ã£ã‹ã‚Šçµæœã‚’å‡ºã—ãŸã„æ–¹ã«ãŠã™ã™ã‚")
    print("   - ã‚ˆã‚Šè¨ˆç”»çš„ãªé£Ÿäº‹ç®¡ç†ãŒå¿…è¦")
    print("=" * 60)

    while True:
        if mode_choice == "1":
            diet_mode = "ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰"
            reduction_rate = 0.02  # 2%
            break
        elif mode_choice == "2":
            diet_mode = "ãƒãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰"
            reduction_rate = 0.04  # 4%
            break
        else:
            print("âš ï¸ 1 ã¾ãŸã¯ 2 ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")

    # ç¾åœ¨ã®ä½“é‡ã®å…¥åŠ›
    print("\nã€ç¾åœ¨ã®ä½“é‡ã€‘ç¾åœ¨ã®ä½“é‡ã¯ä½•kgã§ã™ã‹ï¼Ÿ")
    while True:
        try:
            if current_weight > 0:
                break
            else:
                print("âš ï¸ æ­£ã—ã„ä½“é‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
        except ValueError:
            print("âš ï¸ æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")

    # ç›®æ¨™ä½“é‡ã®å…¥åŠ›
    print("\nã€ç›®æ¨™ä½“é‡ã€‘ç›®æ¨™ä½“é‡ã¯ä½•kgã§ã™ã‹ï¼Ÿ")
    while True:
        try:
            if target_weight > 0 and target_weight < current_weight:
                break
            elif target_weight >= current_weight:
                print("âš ï¸ ç›®æ¨™ä½“é‡ã¯ç¾åœ¨ã®ä½“é‡ã‚ˆã‚Šè»½ãã—ã¦ãã ã•ã„ï¼ˆãƒ€ã‚¤ã‚¨ãƒƒãƒˆå°‚ç”¨ã§ã™ï¼‰")
            else:
                print("âš ï¸ æ­£ã—ã„ä½“é‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
        except ValueError:
            print("âš ï¸ æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")

    # é–¢å£ã‹ã‚‰ã®ææ¡ˆ
    monthly_loss = current_weight * reduction_rate
    print("\n" + "=" * 60)
    print("ã€é–¢å£ã‹ã‚‰ã®ææ¡ˆã€‘")
    print("=" * 60)
    print(f"\n{name}ã•ã‚“ã€{diet_mode}ã‚’é¸æŠã•ã‚Œã¾ã—ãŸã­ã€‚")
    print(f"ç¾åœ¨ã®ä½“é‡{current_weight}kgã‹ã‚‰ã€ç„¡ç†ãªãå¥åº·çš„ã«æ¸›é‡ã™ã‚‹ãªã‚‰...")
    print()
    print(f"ğŸ’¡ æœˆã«{monthly_loss:.1f}kgãšã¤")
    print(f"   è½ã¨ã—ã¦ã„ããƒšãƒ¼ã‚¹ãŒãŠã™ã™ã‚ã§ã™ï¼")
    print()
    print(f"ç›®æ¨™ä½“é‡ã®{target_weight}kgã¾ã§ã€ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼")
    print("=" * 60)
    print()


    # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’ã¾ã¨ã‚ã‚‹
    profile = {
        "name": name,
        "gender": gender,
        "age": age,
        "height": height,
        "activity_name": activity_name,
        "activity_coefficient": activity_coefficient,
        "diet_mode": diet_mode,
        "reduction_rate": reduction_rate,
        "current_weight": current_weight,
        "target_weight": target_weight,
        "initial_weight": current_weight  # åˆæœŸä½“é‡ã‚’è¨˜éŒ²
    }

    return profile


def show_profile_summary(profile):
    """
    å…¥åŠ›ã•ã‚ŒãŸãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®ç¢ºèªç”»é¢ã‚’è¡¨ç¤º

    Args:
        profile (dict): ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±
    """
    # ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼ã¨PFCã‚’è¨ˆç®—
    targets = calculate_target_calories_and_pfc(profile)

    # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«ç›®æ¨™å€¤ã‚’è¿½åŠ 
    profile["target_calories"] = targets["target_calories"]
    profile["target_protein"] = targets["protein"]
    profile["target_fat"] = targets["fat"]
    profile["target_carbs"] = targets["carbs"]
    profile["bmr"] = targets["bmr"]
    profile["tdee"] = targets["tdee"]

    print("\n" + "=" * 60)
    print("ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç¢ºèªã€‘")
    print("=" * 60)
    print(f"ãŠåå‰: {profile['name']}ã•ã‚“")
    print(f"æ€§åˆ¥: {profile['gender']} / å¹´é½¢: {profile['age']}æ­³ / èº«é•·: {profile['height']}cm")
    print(f"æ´»å‹•ãƒ¬ãƒ™ãƒ«: {profile['activity_name']}ï¼ˆä¿‚æ•°{profile['activity_coefficient']}ï¼‰")
    print(f"ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰: {profile['diet_mode']}ï¼ˆæœˆ{int(profile['reduction_rate']*100)}%ãƒšãƒ¼ã‚¹ï¼‰")
    print(f"ãƒ—ãƒ©ãƒ³: {profile['plan_name']} ({profile['price']})")
    print()
    print(f"ç¾åœ¨ã®ä½“é‡: {profile['current_weight']}kg")
    print(f"ç›®æ¨™ä½“é‡: {profile['target_weight']}kg")

    # æ¸›é‡ç›®æ¨™ã®è¨ˆç®—
    weight_diff = profile['current_weight'] - profile['target_weight']
    print(f"ç›®æ¨™: {weight_diff:.1f}kgæ¸›é‡")
    print()

    print("ã€ç§‘å­¦çš„ãªç›®æ¨™è¨­å®šã€‘")
    print("-" * 60)
    print(f"åŸºç¤ä»£è¬é‡ï¼ˆBMRï¼‰: {targets['bmr']:.0f}kcal/æ—¥")
    print(f"ç·æ¶ˆè²»ã‚«ãƒ­ãƒªãƒ¼ï¼ˆTDEEï¼‰: {targets['tdee']:.0f}kcal/æ—¥")
    print()
    print(f"ğŸ“Š 1æ—¥ã®ç›®æ¨™æ‘‚å–ã‚«ãƒ­ãƒªãƒ¼: {targets['target_calories']:.0f}kcal")
    print(f"ğŸ’ª ã‚¿ãƒ³ãƒ‘ã‚¯è³ªï¼ˆPï¼‰: {targets['protein']:.1f}gï¼ˆ30%ï¼‰")
    print(f"ğŸ¥‘ è„‚è³ªï¼ˆFï¼‰: {targets['fat']:.1f}gï¼ˆ20%ï¼‰")
    print(f"ğŸš ç‚­æ°´åŒ–ç‰©ï¼ˆCï¼‰: {targets['carbs']:.1f}gï¼ˆ50%ï¼‰")
    print()
    print("ğŸ’¡ ã“ã‚Œã‚‰ã®æ•°å­—ã¯ã‚ãã¾ã§ç›®å®‰ã§ã™ã€‚")
    print("   Â±10%ã®ç¯„å›²ãªã‚‰å…¨ãå•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚")
    print("   å¤§åˆ‡ãªã®ã¯å®Œç’§ã‚’ç›®æŒ‡ã™ã“ã¨ã§ã¯ãªãã€ç¶šã‘ã‚‹ã“ã¨ã§ã™ã€‚")

    print("=" * 60)
    print()

    # ãƒ¡ãƒ‹ãƒ¥ãƒ¼ææ¡ˆã‚’è¡¨ç¤º
    suggest_meal_examples(
        targets['target_calories'],
        targets['protein'],
        targets['fat'],
        targets['carbs'],
        profile['name']
    )



    """
    ä»Šæ—¥ã®å ±å‘Šã‚’å…¥åŠ›ã—ã¦ã‚‚ã‚‰ã†

    Args:
        profile (dict): ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±

    Returns:
        dict or None: ä»Šæ—¥ã®å ±å‘Šãƒ‡ãƒ¼ã‚¿ï¼ˆçµ‚äº†ã®å ´åˆã¯Noneï¼‰
    """
    print("\n" + "-" * 60)
    print("ã€ä»Šæ—¥ã®å ±å‘Šã€‘")
    print("-" * 60)

    # ä½“é‡ã®å…¥åŠ›ï¼ˆçµ‚äº†åˆ¤å®šã‚‚å«ã‚€ï¼‰
    print("ã€ä½“é‡ã€‘ä»Šæ—¥ã®ä½“é‡ã¯ä½•kgã§ã™ã‹ï¼Ÿ")
    print("ï¼ˆçµ‚äº†ã™ã‚‹å ´åˆã¯ã€Œexitã€ã¾ãŸã¯ã€Œçµ‚äº†ã€ã¨å…¥åŠ›ã—ã¦ãã ã•ã„ï¼‰")

    # çµ‚äº†åˆ¤å®š


    # ä½“é‡ã‚’æ•°å€¤ã«å¤‰æ›
    weight = profile.get("current_weight", profile.get("initial_weight", 0))

    # é‹å‹•ã®å…¥åŠ›
    print("\nã€é‹å‹•ã€‘ä»Šæ—¥ã‚„ã£ãŸé‹å‹•ã‚’æ•™ãˆã¦ãã ã•ã„")
    print("ï¼ˆä¾‹: 30åˆ†ã‚¸ãƒ§ã‚®ãƒ³ã‚°ã€ç­‹ãƒˆãƒ¬ã€ãªã— ãªã©ï¼‰")

    # é£Ÿäº‹ã®å…¥åŠ›æ–¹æ³•ã‚’é¸æŠ
    print("\nã€é£Ÿäº‹ã€‘é£Ÿäº‹ã®å…¥åŠ›æ–¹æ³•ã‚’é¸æŠã—ã¦ãã ã•ã„")
    print("1. ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦è‡ªå‹•è¨ˆç®—")
    print("2. æ‰‹å‹•ã§å…¥åŠ›")

    meal = None
    calories = None
    protein = None
    fat = None
    carbs = None

    while True:

        if choice == "1":
            # ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
            image_path = get_image_path_from_user()

            if image_path:
                # APIã‚­ãƒ¼ã‚’ç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—ï¼ˆåˆå›ã®ã¿è¨­å®šã‚’ä¿ƒã™ï¼‰
                api_key = os.environ.get("GEMINI_API_KEY")
                if not api_key:
                    print("\nã€åˆå›è¨­å®šã€‘Google Gemini APIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
                    print("ï¼ˆå–å¾—æ–¹æ³•: https://makersuite.google.com/app/apikeyï¼‰")
                    # ç’°å¢ƒå¤‰æ•°ã«è¨­å®šï¼ˆã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ã¿æœ‰åŠ¹ï¼‰
                    os.environ["GEMINI_API_KEY"] = api_key

                # ç”»åƒã‚’è§£æ
                analysis_result = analyze_food_image(image_path, api_key)

                if analysis_result:
                    meal = analysis_result["meal_description"]
                    calories = analysis_result["total_calories"]
                    protein = analysis_result["protein"]
                    fat = analysis_result["fat"]
                    carbs = analysis_result["carbs"]

                    # çµæœã‚’è¡¨ç¤º
                    print("\nâœ… è§£æå®Œäº†ï¼")
                    print(f"ğŸ“ é£Ÿäº‹: {meal}")
                    print(f"ğŸ”¥ ã‚«ãƒ­ãƒªãƒ¼: {calories}kcal")
                    print(f"ğŸ’ª P: {protein}g / ğŸ¥‘ F: {fat}g / ğŸš C: {carbs}g")
                    break
                else:
                    print("âš ï¸ è§£æã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ‰‹å‹•å…¥åŠ›ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ã‹ï¼Ÿï¼ˆy/nï¼‰")
                    if retry == "y":
                        choice = "2"
                        continue
            else:
                # ç”»åƒãƒ‘ã‚¹å–å¾—ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ãŸå ´åˆ
                print("æ‰‹å‹•å…¥åŠ›ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™")
                choice = "2"
                continue

        elif choice == "2":
            # æ‰‹å‹•å…¥åŠ›
            print("\nã€é£Ÿäº‹ã€‘ä»Šæ—¥é£Ÿã¹ãŸã‚‚ã®ã‚’ã–ã£ãã‚Šæ•™ãˆã¦ãã ã•ã„")
            print("ï¼ˆä¾‹: é¶èƒ¸è‚‰ã€ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼ã€ç™½ç±³ ãªã©ï¼‰")

           

            # PFCã®å…¥åŠ›
            print("\nã€PFCã€‘ã‚¿ãƒ³ãƒ‘ã‚¯è³ª(P)ã€è„‚è³ª(F)ã€ç‚­æ°´åŒ–ç‰©(C)ã‚’å…¥åŠ›ã—ã¾ã™ã‹ï¼Ÿï¼ˆy/nï¼‰")

            if pfc_choice == "y":
                # ã‚¿ãƒ³ãƒ‘ã‚¯è³ª
                print("ã‚¿ãƒ³ãƒ‘ã‚¯è³ª(P)ã¯ä½•gã§ã™ã‹ï¼Ÿ")
                try:
                except ValueError:
                    protein = None

                # è„‚è³ª
                print("è„‚è³ª(F)ã¯ä½•gã§ã™ã‹ï¼Ÿ")
                try:
                except ValueError:
                    fat = None

                # ç‚­æ°´åŒ–ç‰©
                print("ç‚­æ°´åŒ–ç‰©(C)ã¯ä½•gã§ã™ã‹ï¼Ÿ")
                try:
                except ValueError:
                    carbs = None

            break
        else:
            print("âš ï¸ 1 ã¾ãŸã¯ 2 ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")

    # ä»Šæ—¥ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã¾ã¨ã‚ã‚‹
    daily_data = {
        "weight": weight,
        "exercise": exercise,
        "meal": meal,
        "calories": calories,
        "protein": protein,
        "fat": fat,
        "carbs": carbs
    }

    return daily_data


def generate_feedback(profile, daily_data):
    """
    é–¢å£ã•ã‚“é¢¨ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ç”Ÿæˆã™ã‚‹

    Args:
        profile (dict): ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±
        daily_data (dict): ä»Šæ—¥ã®å ±å‘Šãƒ‡ãƒ¼ã‚¿
    """
    name = profile["name"]
    diet_mode = profile["diet_mode"]
    current_weight = daily_data["weight"]
    initial_weight = profile["initial_weight"]
    target_weight = profile["target_weight"]
    exercise = daily_data["exercise"]
    meal = daily_data["meal"]
    calories = daily_data.get("calories")
    protein = daily_data.get("protein")
    fat = daily_data.get("fat")
    carbs = daily_data.get("carbs")

    # ä½“é‡å¤‰åŒ–ã‚’è¨ˆç®—
    weight_change = current_weight - initial_weight
    weight_to_goal = current_weight - target_weight  # æ¸›é‡ãªã®ã§ç¾åœ¨-ç›®æ¨™

    print("\n" + "=" * 60)
    print("ã€ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¡ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã€‘")
    print("=" * 60)
    print()

    # æ „é¤Šæƒ…å ±ã‚’è¡¨ç¤ºï¼ˆãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹å ´åˆï¼‰
    if calories is not None or any([protein, fat, carbs]):
        # ç›®æ¨™å€¤ã‚’å–å¾—
        target_cal = profile.get("target_calories", 0)
        target_p = profile.get("target_protein", 0)
        target_f = profile.get("target_fat", 0)
        target_c = profile.get("target_carbs", 0)

        # ã‚«ãƒ­ãƒªãƒ¼ã®ã¿ã€ã¾ãŸã¯å…¨ã¦ã®ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹å ´åˆã«æ¯”è¼ƒè¡¨ã¨ã‚°ãƒ©ãƒ•ã‚’è¡¨ç¤º
        if calories is not None:
            # æ¯”è¼ƒè¡¨ã‚’è¡¨ç¤º
            print_comparison_table(
                calories, target_cal,
                protein if protein is not None else 0,
                target_p,
                fat if fat is not None else 0,
                target_f,
                carbs if carbs is not None else 0,
                target_c
            )

            # ã‚°ãƒ©ãƒ•ã‚’ç”Ÿæˆã—ã¦ä¿å­˜
            if protein is not None and fat is not None and carbs is not None:
                graph_path = create_nutrition_graphs(
                    name, calories, target_cal,
                    protein, target_p,
                    fat, target_f,
                    carbs, target_c
                )
                print(f"ğŸ“Š æ „é¤Šæ¯”è¼ƒã‚°ãƒ©ãƒ•ã‚’ä¿å­˜ã—ã¾ã—ãŸ: {graph_path}")
                print()

        # ã‚«ãƒ­ãƒªãƒ¼ã®ç°¡æ˜“è¡¨ç¤ºã¨è©•ä¾¡ï¼ˆæŸ”è»Ÿæ€§ã‚’æŒãŸã›ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰
        if calories is not None:
            cal_diff = calories - target_cal
            cal_diff_pct = (cal_diff / target_cal * 100) if target_cal > 0 else 0

            print("ğŸ“Š ä»Šæ—¥ã®è©•ä¾¡:")
            if abs(cal_diff_pct) < 5:
                print(f"  ğŸ¯ ã‚«ãƒ­ãƒªãƒ¼: ç›®æ¨™ãƒ”ãƒƒã‚¿ãƒªã§ã™ï¼ç´ æ™´ã‚‰ã—ã„ğŸ‘")
            elif abs(cal_diff_pct) < 10:
                # Â±10%ä»¥å†…ãªã‚‰è¨±å®¹ç¯„å›²
                print(f"  âœ… ã‚«ãƒ­ãƒªãƒ¼: {calories:.0f}kcalï¼ˆç›®æ¨™{target_cal:.0f}kcalï¼‰")
                print(f"     â†’ Â±10%ä»¥å†…ãªã‚‰å…¨ãå•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚å¤§äº‹ãªã®ã¯ç¶šã‘ã‚‹ã“ã¨ã§ã™ã€‚")
            elif cal_diff > 0:
                # 10%ä»¥ä¸Šã‚ªãƒ¼ãƒãƒ¼
                print(f"  âš ï¸ ã‚«ãƒ­ãƒªãƒ¼: ç›®æ¨™ã‚ˆã‚Š{abs(cal_diff):.0f}kcalå¤šã„ã§ã™ï¼ˆ{cal_diff_pct:.1f}%ã‚ªãƒ¼ãƒãƒ¼ï¼‰")
                print(f"     â†’ æ•°å­—ã¯ã‚ãã¾ã§ç›®å®‰ã€‚æ˜æ—¥ã‹ã‚‰èª¿æ•´ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚")
            else:
                # 10%ä»¥ä¸Šå°‘ãªã„
                print(f"  âœ… ã‚«ãƒ­ãƒªãƒ¼: ç›®æ¨™ã‚ˆã‚Š{abs(cal_diff):.0f}kcalå°‘ãªã„ã§ã™")
                print(f"     â†’ æ¥µç«¯ã«æ¸›ã‚‰ã—ã™ãã‚‹ã¨ä»£è¬ãŒè½ã¡ã¾ã™ã€‚é©åº¦ã«é£Ÿã¹ã‚‹ã“ã¨ã‚‚å¤§åˆ‡ã§ã™ã‚ˆã€‚")

            # PFCãƒãƒ©ãƒ³ã‚¹ã‚’è¨ˆç®—ï¼ˆå…¨ã¦å…¥åŠ›ã•ã‚Œã¦ã„ã‚‹å ´åˆï¼‰
            if protein and fat and carbs:
                total_macros = protein * 4 + fat * 9 + carbs * 4  # ã‚«ãƒ­ãƒªãƒ¼ã«æ›ç®—
                p_ratio = (protein * 4 / total_macros) * 100 if total_macros > 0 else 0
                f_ratio = (fat * 9 / total_macros) * 100 if total_macros > 0 else 0
                c_ratio = (carbs * 4 / total_macros) * 100 if total_macros > 0 else 0

                print(f"  ğŸ“ˆ PFCãƒãƒ©ãƒ³ã‚¹: P{p_ratio:.0f}% / F{f_ratio:.0f}% / C{c_ratio:.0f}%")
                print(f"  ğŸ¯ ç†æƒ³ãƒãƒ©ãƒ³ã‚¹: P30% / F20% / C50%")
                print(f"     â†’ ã‚ãã¾ã§ç›®å®‰ã§ã™ã€‚äººã«ã‚ˆã£ã¦åˆã†æ¯”ç‡ã¯é•ã„ã¾ã™ã‹ã‚‰ã­ã€‚")

        print()

    # ä½“é‡å¤‰åŒ–ã®ã‚³ãƒ¡ãƒ³ãƒˆ
    print(f"ğŸ“Š ä½“é‡å¤‰åŒ–: ", end="")
    if weight_change < 0:
        print(f"{abs(weight_change):.1f}kgæ¸› ğŸ‘")
        print(f"ç´ æ™´ã‚‰ã—ã„ï¼ç›®æ¨™ã¾ã§ã‚ã¨{weight_to_goal:.1f}kgã§ã™ã€‚")
    elif weight_change > 0:
        print(f"{weight_change:.1f}kgå¢—")
        print(f"ç„¦ã‚‰ãªãã¦å¤§ä¸ˆå¤«ï¼ä½“é‡ã¯æ—¥ã€…å¤‰å‹•ã—ã¾ã™ã€‚")
        # ãƒ©ãƒ³ãƒ€ãƒ ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’è¡¨ç¤º
        advice = generate_stagnation_advice()
        print(advice)
    else:
        print(f"å¤‰åŒ–ãªã—")
        print(f"ä½“é‡ã¯æ—¥ã€…å¤‰å‹•ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ç¶™ç¶šãŒå¤§åˆ‡ã§ã™ã‚ˆï¼")
        # ãƒ©ãƒ³ãƒ€ãƒ ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’è¡¨ç¤º
        advice = generate_stagnation_advice()
        print(advice)

    print()
    print(f"ğŸ¯ {name}ã•ã‚“ã¸: {diet_mode}ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã€é †èª¿ã«é€²ã‚“ã§ã„ã¾ã™ã‚ˆï¼")
    print()

    # è‰¯ã‹ã£ãŸç‚¹ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ç”Ÿæˆ
    print("âœ¨ è‰¯ã‹ã£ãŸç‚¹:")
    good_points = []

    # åŸºæœ¬çš„ãªè‰¯ã‹ã£ãŸç‚¹
    good_points.append(f"  â€¢ {name}ã•ã‚“ã€ä»Šæ—¥ã‚‚è¨˜éŒ²ã‚’ã¤ã‘ã¦ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ï¼ã“ã‚ŒãŒç¶™ç¶šã®ç¬¬ä¸€æ­©ã§ã™")

    # é‹å‹•ã«ã¤ã„ã¦
    if exercise and exercise.lower() not in ["ãªã—", "ãªã—ã€‚", "ç‰¹ã«ãªã—"]:
        exercise_compliments = [
            f"  â€¢ ã€Œ{exercise}ã€ã‚’ã‚„ã£ãŸã“ã¨ã€ç´ æ™´ã‚‰ã—ã„ã§ã™ï¼",
            f"  â€¢ ä»Šæ—¥ã‚‚é‹å‹•ã§ããŸã‚“ã§ã™ã­ã€‚ãã®ç©ã¿é‡ã­ãŒçµæœã«ã¤ãªãŒã‚Šã¾ã™",
            f"  â€¢ ã€Œ{exercise}ã€ã€ã‚ˆãé ‘å¼µã‚Šã¾ã—ãŸã­ï¼",
        ]
        good_points.append(random.choice(exercise_compliments))

    # é£Ÿäº‹ã«ã¤ã„ã¦
    if meal:
        meal_compliments = [
            f"  â€¢ é£Ÿäº‹ã®å†…å®¹ã‚’æ„è­˜ã—ã¦ã„ã‚‹ã“ã¨ã€ãã‚Œã ã‘ã§å¤§ããªä¸€æ­©ã§ã™",
            f"  â€¢ ã—ã£ã‹ã‚Šé£Ÿã¹ã¦ã„ã¾ã™ã­ã€‚ç„¡ç†ãªé£Ÿäº‹åˆ¶é™ã‚ˆã‚Šã€ãƒãƒ©ãƒ³ã‚¹ãŒå¤§äº‹ã§ã™ã‚ˆ",
            f"  â€¢ é£Ÿäº‹ã‚’è¨˜éŒ²ã™ã‚‹ç¿’æ…£ã€ã“ã‚ŒãŒã¨ã¦ã‚‚å¤§åˆ‡ã§ã™ï¼",
        ]
        good_points.append(random.choice(meal_compliments))

    # ä½“é‡æ¸¬å®šã«ã¤ã„ã¦
    measurement_compliments = [
        f"  â€¢ æ¯æ—¥ä½“é‡ã‚’æ¸¬ã£ã¦è¨˜éŒ²ã™ã‚‹ç¿’æ…£ã€ã“ã‚ŒãŒã¨ã¦ã‚‚å¤§åˆ‡ã§ã™ï¼",
        f"  â€¢ ä½“é‡ã¨å‘ãåˆã†å‹‡æ°—ã€ãã‚ŒãŒå¤‰åŒ–ã¸ã®ç¬¬ä¸€æ­©ã§ã™ã‚ˆ",
    ]
    good_points.append(random.choice(measurement_compliments))

    # ãƒ©ãƒ³ãƒ€ãƒ ã«2-3å€‹é¸ã‚“ã§è¡¨ç¤º
    selected_points = random.sample(good_points, min(3, len(good_points)))
    for point in selected_points:
        print(point)

    print()

    # æ”¹å–„ãƒã‚¤ãƒ³ãƒˆï¼ˆ1ã¤ã ã‘ã€å„ªã—ãã€æŸ”è»Ÿã«ï¼‰
    print("ğŸ’¡ æ”¹å–„ãƒã‚¤ãƒ³ãƒˆï¼ˆ1ã¤ã ã‘ï¼ï¼‰:")
    improvement_tips = [
        "  â€¢ æœ‰é…¸ç´ é‹å‹•ã€5åˆ†ã§ã‚‚10åˆ†ã§ã‚‚ã„ã„ã®ã§å–ã‚Šå…¥ã‚Œã¦ã¿ã¾ã—ã‚‡ã†ã€‚å®Œç’§ã˜ã‚ƒãªãã¦ã„ã„ã‚“ã§ã™ã€‚",
        "  â€¢ ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã‚’æ„è­˜ã—ã¦æ‘‚ã‚‹ã¨ã€ç­‹è‚‰ãŒç¶­æŒã•ã‚Œã‚„ã™ããªã‚Šã¾ã™ã€‚ç›®å®‰ã¯å®ˆã‚Œãªãã¦ã‚‚å¤§ä¸ˆå¤«ã€‚",
        "  â€¢ æ°´åˆ†è£œçµ¦ã‚‚å¤§åˆ‡ã§ã™ã€‚1æ—¥2ãƒªãƒƒãƒˆãƒ«ãŒç†æƒ³ã§ã™ãŒã€ã§ãã‚‹ç¯„å›²ã§å¢—ã‚„ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚",
        "  â€¢ ç¡çœ æ™‚é–“ã‚‚ä½“ã¥ãã‚Šã«ã¯é‡è¦ã§ã™ã€‚7æ™‚é–“ãŒç†æƒ³ã§ã™ãŒã€6æ™‚é–“ã§ã‚‚ç¶šã‘ã‚‹ã“ã¨ãŒå¤§äº‹ã€‚",
        "  â€¢ ç‚­æ°´åŒ–ç‰©ã‚’å®Œå…¨ã«æŠœãã‚ˆã‚Šã€é‡ã‚’èª¿æ•´ã™ã‚‹æ–¹ãŒç¶šã‘ã‚„ã™ã„ã§ã™ã‚ˆã€‚ç¾å ´ã§ã¯ãã®æ–¹ãŒçµæœãŒå‡ºã¾ã™ã€‚",
        "  â€¢ é£Ÿäº‹ã®å›æ•°ã‚’åˆ†ã‘ã‚‹ã¨ä»£è¬ãŒå®‰å®šã—ã‚„ã™ã„ã€ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ãŒã€è‡ªåˆ†ã«åˆã†ã‚„ã‚Šæ–¹ã§OKã§ã™ã€‚",
        "  â€¢ ã‚¹ãƒˆãƒ¬ãƒƒãƒã‚‚å¿˜ã‚Œãšã«ã€‚å®Œç’§ã«ã‚„ã‚‰ãªãã¦ã‚‚ã€å°‘ã—ã‚„ã‚‹ã ã‘ã§é•ã„ã¾ã™ã€‚",
        "  â€¢ æ•°å­—ã‚’æ°—ã«ã—ã™ããªã„ã§ã€‚ä½“ã®åå¿œã‚’è¦‹ãªãŒã‚‰èª¿æ•´ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚",
        "  â€¢ ç ”ç©¶ã§ã¯â—‹â—‹ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ãŒã€å¤§äº‹ãªã®ã¯ã‚ãªãŸã«åˆã†ã‹ã©ã†ã‹ã§ã™ã€‚",
        "  â€¢ 80ç‚¹ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€‚100ç‚¹ã‚’ç‹™ã†ã‚ˆã‚Šã€80ç‚¹ã§ç¶šã‘ã‚‹æ–¹ãŒçµæœãŒå‡ºã¾ã™ã€‚",
    ]
    print(random.choice(improvement_tips))

    print()

    # æ˜æ—¥ã¸ã®ä¸€è¨€
    print("ğŸ”¥ æ˜æ—¥ã¸ã®ä¸€è¨€:")
    tomorrow_messages = [
        "  ç¶™ç¶šã¯åŠ›ãªã‚Šï¼æ˜æ—¥ã‚‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼",
        "  å°ã•ãªç©ã¿é‡ã­ãŒã€å¤§ããªå¤‰åŒ–ã‚’ç”Ÿã¿ã¾ã™ã€‚æ˜æ—¥ã‚‚æ¥½ã—ã¿ã«ã—ã¦ã„ã¾ã™ï¼",
        "  ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§å¤§ä¸ˆå¤«ã€‚ç„¦ã‚‰ãšã€ç€å®Ÿã«é€²ã¿ã¾ã—ã‚‡ã†ï¼",
        "  ä»Šæ—¥ã‚‚1æ—¥ãŠç–²ã‚Œã•ã¾ã§ã—ãŸã€‚æ˜æ—¥ã‚‚ã‚ãªãŸã‚‰ã—ãé ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼",
        "  å®Œç’§ã˜ã‚ƒãªãã¦ã„ã„ã€‚ç¶šã‘ã‚‹ã“ã¨ãŒä½•ã‚ˆã‚Šå¤§åˆ‡ã§ã™ï¼",
        "  å¤‰åŒ–ã¯å¿…ãšè¨ªã‚Œã¾ã™ã€‚ä¿¡ã˜ã¦ç¶šã‘ã¾ã—ã‚‡ã†ï¼",
        "  æ˜æ—¥ã‚‚ã€ã§ãã‚‹ã“ã¨ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ï¼",
    ]
    print(random.choice(tomorrow_messages))

    print()
    print("=" * 60)


def main():
    """
    ãƒ¡ã‚¤ãƒ³é–¢æ•°ï¼šãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å…¨ä½“ã®æµã‚Œã‚’åˆ¶å¾¡
    """
    # ãƒ˜ãƒƒãƒ€ãƒ¼è¡¨ç¤º
    print_header()

    # ãƒ—ãƒ©ãƒ³é¸æŠ
    plan = select_plan()

    print()  # æ”¹è¡Œ

    # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å–å¾—
    profile = get_profile()

    # ãƒ—ãƒ©ãƒ³æƒ…å ±ã‚’ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«çµ±åˆ
    profile.update(plan)

    # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç¢ºèª
    show_profile_summary(profile)

    # é–‹å§‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    print(f"\nğŸ‰ {profile['name']}ã•ã‚“ã€ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼")
    print(f"ğŸ’ª {profile['diet_mode']}ã§ç›®æ¨™ä½“é‡{profile['target_weight']}kgã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ï¼")
    print(f"ğŸ“… æ¯æ—¥ã€å…¨åŠ›ã§ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼\n")
    print("ãã‚Œã§ã¯ã€æ¯æ—¥ã®å ±å‘Šã‚’å§‹ã‚ã¾ã—ã‚‡ã†ã€‚")
    print("ï¼ˆã„ã¤ã§ã‚‚ã€Œexitã€ã¾ãŸã¯ã€Œçµ‚äº†ã€ã¨å…¥åŠ›ã™ã‚‹ã¨çµ‚äº†ã§ãã¾ã™ï¼‰\n")


    # ä½“é‡å±¥æ­´ã‚’è¨˜éŒ²ã™ã‚‹ãƒªã‚¹ãƒˆ
    weight_history = [profile["initial_weight"]]

    # æ—¥ã€…ã®è¨˜éŒ²ã‚’ä¿å­˜ã™ã‚‹ãƒªã‚¹ãƒˆ
    daily_records = []

    # æ—¥ã€…ã®å ±å‘Šãƒ«ãƒ¼ãƒ—
    day_count = 1

    while True:
        print(f"\n{'='*60}")
        print(f"ğŸ“… {day_count}æ—¥ç›®")
        print(f"{'='*60}")

        # æŒ«æŠ˜ãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯ï¼ˆ2æ—¥ç›®ä»¥é™ï¼‰
        if day_count >= 2:
            risk_info = detect_dropout_risk(profile, weight_history, daily_records, day_count)
            provide_special_support(risk_info, profile)

        # ä»Šæ—¥ã®å…¥åŠ›ã‚’å—ã‘å–ã‚‹

        # çµ‚äº†åˆ¤å®šï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé€”ä¸­ã§çµ‚äº†ã‚’é¸æŠã—ãŸå ´åˆï¼‰
        if daily_data is None:
            print("\n" + "=" * 60)
            print(f"ğŸ‰ {profile['name']}ã•ã‚“ã€ä»Šæ—¥ã‚‚ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼")
            print("=" * 60)
            print("\nç¶™ç¶šã¯åŠ›ãªã‚Šï¼")
            print("ã¾ãŸæ˜æ—¥ã‚‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼ğŸ’ª")
            print("\nâ€• ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãƒ¡ãƒ³ã‚¿ãƒ¼ã‚ˆã‚Š")
            print("=" * 60)
            break

        # ä½“é‡ã‚’å±¥æ­´ã«è¿½åŠ 
        weight_history.append(daily_data["weight"])

        # æ—¥ã€…ã®è¨˜éŒ²ã‚’ä¿å­˜
        daily_records.append(daily_data)

        # ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ç”Ÿæˆ
        generate_feedback(profile, daily_data)

        # é€±åˆŠãƒ¬ãƒãƒ¼ãƒˆï¼ˆ7æ—¥ç›®ã€14æ—¥ç›®ã€21æ—¥ç›®...ï¼‰
        if day_count % 7 == 0:
            week_number = day_count // 7
            print("\n\n" + "ğŸ‰" * 35)
            print()
            print(" " * 20 + "ğŸ“¬ é€±åˆŠãƒ¬ãƒãƒ¼ãƒˆ ğŸ“¬")
            print()
            print("ğŸ‰" * 35)

            # é€±åˆŠãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ
            weekly_report = generate_weekly_report(
                profile, weight_history, daily_records, week_number
            )
            print(weekly_report)

            # ãƒ¬ãƒãƒ¼ãƒˆã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
            filepath = save_report_to_file(
                weekly_report, profile["name"], "weekly", week_number
            )
            if filepath:
                print(f"ğŸ“„ ãƒ¬ãƒãƒ¼ãƒˆã‚’ä¿å­˜ã—ã¾ã—ãŸ: {filepath}\n")


        # æœˆé–“ãƒ¬ãƒãƒ¼ãƒˆï¼ˆ30æ—¥ç›®ã€60æ—¥ç›®ã€90æ—¥ç›®...ï¼‰
        if day_count % 30 == 0:
            month_number = day_count // 30
            print("\n\n" + "ğŸŒŸ" * 35)
            print()
            print(" " * 20 + "ğŸ“¬ æœˆé–“ãƒ¬ãƒãƒ¼ãƒˆ ğŸ“¬")
            print()
            print("ğŸŒŸ" * 35)

            # æœˆé–“ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ
            monthly_report = generate_monthly_report(
                profile, weight_history, daily_records, month_number
            )
            print(monthly_report)

            # ãƒ¬ãƒãƒ¼ãƒˆã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
            filepath = save_report_to_file(
                monthly_report, profile["name"], "monthly", month_number
            )
            if filepath:
                print(f"ğŸ“„ ãƒ¬ãƒãƒ¼ãƒˆã‚’ä¿å­˜ã—ã¾ã—ãŸ: {filepath}\n")


        # æ—¥æ•°ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
        day_count += 1

        # åˆæœŸä½“é‡ã‚’æ›´æ–°ï¼ˆæ¬¡å›ã®æ¯”è¼ƒç”¨ï¼‰
        profile["initial_weight"] = daily_data["weight"]


if __name__ == "__main__":
    # ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œ
    main()
